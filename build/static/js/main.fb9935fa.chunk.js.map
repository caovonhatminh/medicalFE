{"version":3,"sources":["reportWebVitals.js","components/sidebar/Sidebar.jsx","assets/images/logo.png","components/dropdown/Dropdown.jsx","redux/slices/ThemeSlice.jsx","components/thememenu/ThemeMenu.jsx","constants/index.jsx","config/axios.js","redux/slices/AppointmentSlice.jsx","components/topnav/TopNav.jsx","components/table/Table.jsx","pages/Profile.jsx","pages/Medical/Update/UpdateAppointment.jsx","assets/Icon/ZaloIcon.js","pages/Appointment.jsx","redux/slices/MedicalSlice.jsx","pages/Dashboard.jsx","pages/Medical/Create/CreateMedicines.jsx","pages/Medical/Create/CreateMedicalResult.jsx","pages/Medical/Create/CreateMedicalExamination.jsx","pages/MedicalRecord.jsx","redux/slices/UserSlice.jsx","pages/Login.jsx","pages/Medical/Update/UpdateMedical.jsx","pages/Medicals.jsx","pages/Medical/Create/CreateMedicalRecord.jsx","pages/Medical/Create/CreateMedial.jsx","pages/MedicalDeletedRecord.jsx","pages/MedicalsDeleted.jsx","pages/Register.jsx","pages/Managenent.jsx","pages/UpdatePass.jsx","components/Routes.jsx","components/layout/Layout.jsx","redux/store.jsx","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SidebarItem","props","active","className","icon","title","Sidebar","user","useSelector","state","activeItem","sidebar_items","findIndex","item","route","location","pathname","src","alt","role","to","map","index","display_name","Dropdown","content_ref","toggle_ref","dropdown_toggle_el","useRef","dropdown_content_el","document","addEventListener","e","current","contains","target","classList","toggle","remove","ref","badge","customToggle","onClick","contentData","length","renderItems","style","width","color","image","Empty","PRESENTED_IMAGE_SIMPLE","renderFooter","ThemeSlice","createSlice","name","initialState","mode","reducers","setModeTheme","action","payload","setColorTheme","actions","mode_settings","id","background","class","color_settings","ThemeMenu","menu_ref","menu_toggle_ref","useState","currMode","setcurrMode","currColor","setcurrColor","dispatch","useDispatch","useEffect","themeClass","find","localStorage","getItem","colorClass","undefined","add","setItem","URL","URL_AVATAR","getLinkImage","removeAccents","str","AccentsMap","i","re","RegExp","substr","char","replace","axiosAuth","axios","create","baseURL","headers","interceptors","request","use","config","access_token","Authorization","error","Promise","reject","response","a","status","_retry","refresh_token","url","method","data","res","axiosNotAuth","GetAppointment","createAsyncThunk","thunkAPI","username","responseUsers","listBsi","filter","label","fullName","value","rejectWithValue","message","AppointmentSlice","appointment","isLoading","isSuccess","isError","extraReducers","builder","addCase","fulfilled","listFilter","users","includes","listUser","split","list","result","bsi","sort","b","moment","diff","pending","rejected","Text","Typography","Topnav","history","useHistory","notify","setNotify","React","useLocation","AvatarProfile","avatar","slice","toUpperCase","renderUserToggle","user_menu","link","content","renderUserMenu","push","medicalrecordid","fontSize","updateAt","format","medicalName","ellipsis","renderNotificationItem","display","styled","Avatar","Table","dataShow","setDataShow","setIsLoading","limit","bodyData","Number","x","stt","pages","range","page","Math","floor","Array","keys","currPage","setCurrPage","headData","renderHead","renderBody","_","Input","size","block","start","end","setTimeout","selectPage","Profile","Form","useForm","form","setAvatar","imageUrl","setImageUrl","setFieldValue","address","birthday","phone","FCenter","labelCol","span","wrapperCol","onFinishFailed","errorInfo","console","log","autoComplete","onFinish","values","formData","FormData","temp","Object","entries","key","append","success","window","href","catch","offset","htmlFor","cursor","margin","justifyContent","marginBottom","createObjectURL","height","objectFit","borderRadius","Item","CInput","type","onChange","fileList","files","prev","disabled","placeholder","rules","required","DInput","pattern","CButton","htmlType","loading","textAlign","borderTop","paddingTop","p","DatePicker","div","Button","isDuplicateAppointment","dataList","appointmentTime","some","UpdateAppointment","visible","closeModal","oldData","setUsers","selected","setSelected","init","destroyOnClose","centered","open","onCancel","footer","marginRight","newAppointmentTime","date","join","initialValues","showTime","minuteStep","disabledDate","showSearch","maxTagCount","optionFilterProp","filterOption","input","option","filterSort","optionA","optionB","toLowerCase","localeCompare","options","ZaloIcon","xmlns","viewBox","fill","d","appointmentTableHead","Paragraph","Appointment","modalVisible","setModalVisible","recordUpdate","setRecordUpdate","setLoading","isSSMedical","medical","isSSUser","openModal","spinning","minHeight","copyable","CopyOutlined","PhoneOutlined","tooltip","EyeOutlined","EditOutlined","GetMedicals","FilterMedicals","medicalFilter","medicalTotal","medicalStatistics","medicalDeleted","MedicalSlice","handleChangePage","filterData","curState","text_search","monthStatistics","totalHospital","totalPeople","totalVisited","totalMedicine","listMedicalFilter","totalRecord","listMedical","record","year","createAt","monthIndex","month","medicalResults","hospitalName","medicine_count","toLocaleLowerCase","WrapperAvatar","Title","TextPos","TitleMin","TextNoWrap","Dashboard","medicalRecent","setMedicalRecent","themeReducer","theme","viewImage","setViewImage","isShowImage","setIsShowImage","chartOptions","series","chart","dataLabels","enabled","stroke","curve","xaxis","categories","legend","position","grid","show","images","onClose","onMaskClick","shape","direction","ContactsOutlined","CalendarOutlined","HomeOutlined","renderCusomerHead","_id","renderCusomerBody","CreateMedicines","close","setTags","tags","medicines","setMedicines","onlyCreate","medicalResultID","dosage","morning","afternoon","night","placeHolder","min","valuePropName","initialValue","defaultChecked","CreateRecordResult","nextStep","medicalRecordID","setMedicalResultID","isShowModal","medicineImage","setMedicineImage","tagChild","tag","tagElem","closable","preventDefault","removedTag","newTags","handleClose","siz","medicalJSONSTR","JSON","stringify","substring","doctor","accept","Inline","PlusOutlined","CreateMedicalExamination","isModal","setImage","beforeUpload","file","MedicalRecord","useParams","medicalRecord","setMedicalRecord","medicalRecordResult","setMedicalRecordResult","dataModal","setDataModal","isOpenImage","setIsOpenImage","isModalOpen","setIsModalOpen","listImage","setListImage","isVisibleCreate","setIsVisibleCreate","isVisibleCreateExam","setIsVisibleCreateExam","isVisibleCreateMedicines","setIsVisibleCreateMedicines","resultUpdate","setResultUpdate","resultNew","setResultNew","setFileList","isDoctor","setIsModalConfirm","uid","showModal","handleCancelImage","openShowCreateExam","openShowCreateMedicines","handleSetListImage","hideModal","onOk","okText","cancelText","PrinterOutlined","finalResult","results","PlusCircleOutlined","DeleteOutlined","renderCustomerBody","getContainer","zIndex","pagination","modules","Navigation","Pagination","Mousewheel","Keyboard","navigation","allowTouchMove","marginTop","padding","quantity","isAfter","originFileObj","CUpload","listType","newFileList","Upload","SignInUser","post","SignUpUser","mes","msg","GetUserInfo","get","UserSlice","logout","removeItem","caches","names","forEach","delete","reload","updateUser","Logout","Login","messages","WrapperLogin","FormLogin","Header","Content","remember","layout","PInput","Password","UpdateMedical","Medicals","isModalConfirm","setStartDate","setEndDate","fullText","setfullText","search","URLSearchParams","handleRollback","handleFilter","ReloadOutlined","WrapperRight","WrapperInput","paddingRight","onPressEnter","BoxSearch","SearchOutlined","renderCustomerHead","align","CreateRecord","auth","startDate","Step","Steps","CreateMedial","setCurrent","setVisible","next","steps","WrapperContent","WrapperFooter","marginLeft","MedicalDeletedRecord","TitleDel","RangePicker","MedicalsDeleted","isModalDelete","setIsModalDelete","filterDate","setFilterDate","hideModalDelete","onChangePagination","pageNumber","dates","element","fromDate","toDate","Date","DRangePicker","Register","isVisible","setIsVisible","confirm","dataUser","password","Group","getRoleString","Management","itemUser","setItemUser","deleteModal","setDeleteModal","handleOk","handleUpdate","textTransform","UpdatePassword","code","hasFeedback","dependencies","getFieldValue","validator","Error","resolve","PrivateRoute","Component","component","rest","render","Routes","exact","path","Layout","TopNav","store","configureStore","reducer","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fb9935fa.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\n\r\nimport \"./sidebar.css\";\r\n\r\nimport logo from \"../../assets/images/logo.png\";\r\n\r\nimport sidebar_items from \"../../assets/JsonData/sidebar_routes.json\";\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst SidebarItem = (props) => {\r\n    const active = props.active ? \"active\" : \"\";\r\n\r\n    return (\r\n        <div className=\"sidebar__item\">\r\n            <div className={`sidebar__item-inner ${active}`}>\r\n                <i className={props.icon}></i>\r\n                <span>{props.title}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Sidebar = (props) => {\r\n    const { user } = useSelector(state => state.user)\r\n\r\n    const activeItem = sidebar_items.findIndex(\r\n        (item) => item.route === props.location.pathname\r\n    );\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"sidebar__logo\">\r\n                <img src={logo} alt=\"company logo\" />\r\n            </div>\r\n            {\r\n                user?.role === 'admin' ?\r\n                    <Link to={\"management\"} >\r\n                        <SidebarItem\r\n                            title={'Quản lý'}\r\n                            icon={\"bx bx-user\"}\r\n                            active={true}\r\n                        />\r\n                    </Link> :\r\n                    sidebar_items.map((item, index) => (\r\n                        <Link to={item.route} key={index}>\r\n                            <SidebarItem\r\n                                title={item.display_name}\r\n                                icon={item.icon}\r\n                                active={index === activeItem}\r\n                            />\r\n                        </Link>\r\n                    ))}\r\n            <Link to=\"/logout\">\r\n                <SidebarItem\r\n                    title={\"Đăng xuất\"}\r\n                    icon={\"bx bx-log-out-circle bx-rotate-180\"}\r\n                    active={false}\r\n                />\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Sidebar;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbsAAACFCAYAAADCblZ3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDYtMjdUMjE6MTQ6NTIrMDc6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDYtMjdUMjE6MTQ6NTIrMDc6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA2LTI3VDIxOjE0OjUyKzA3OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY1N2IwOTNjLWRhMTctN2U0Yi1iNmU1LTAyNGE1MDc5NDZiOSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg3MWFjNWZhLWY5YmItOGM0ZC1iZjIyLTZkNTNhYWY4MDk0YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmI4NzdiNmEzLThjMDYtZmE0Yy04MGM2LTVmZmJkMTM5MTU2OSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmI4NzdiNmEzLThjMDYtZmE0Yy04MGM2LTVmZmJkMTM5MTU2OSIgc3RFdnQ6d2hlbj0iMjAyMS0wNi0yN1QyMToxNDo1MiswNzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2NTdiMDkzYy1kYTE3LTdlNGItYjZlNS0wMjRhNTA3OTQ2YjkiIHN0RXZ0OndoZW49IjIwMjEtMDYtMjdUMjE6MTQ6NTIrMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJUdWFDUk0iIHBob3Rvc2hvcDpMYXllclRleHQ9IlR1YUNSTSIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+YC0KYwAAHexJREFUeF7tnQuUFNWZx//NMDwViAqioqj0oOIgEkClxygm+Jgh2ZCNwZOYzcToziS7yc6YhMSsY/TEiZqQx0w8ecxkk13i7tmEczaZ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\"","import React, { useRef } from 'react'\r\n\r\nimport './dropdown.css'\r\nimport { Empty } from 'antd';\r\n\r\nconst clickOutsideRef = (content_ref, toggle_ref) => {\r\n    document.addEventListener('mousedown', (e) => {\r\n        // user click toggle\r\n        if (toggle_ref.current && toggle_ref.current.contains(e.target)) {\r\n            content_ref.current.classList.toggle('active')\r\n        } else {\r\n            // user click outside toggle and content\r\n            if (content_ref.current && !content_ref.current.contains(e.target)) {\r\n                content_ref.current.classList.remove('active')\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nconst Dropdown = props => {\r\n\r\n    const dropdown_toggle_el = useRef(null)\r\n    const dropdown_content_el = useRef(null)\r\n\r\n    clickOutsideRef(dropdown_content_el, dropdown_toggle_el)\r\n\r\n    return (\r\n        <div className='dropdown'>\r\n            <button ref={dropdown_toggle_el} className=\"dropdown__toggle\">\r\n                {\r\n                    props.icon ? <i className={props.icon}></i> : ''\r\n                }\r\n                {\r\n                    props.badge ? <span className='dropdown__toggle-badge'>{props.badge}</span> : ''\r\n                }\r\n                {\r\n                    props.customToggle ? props.customToggle() : ''\r\n                }\r\n            </button>\r\n            <div ref={dropdown_content_el} className=\"dropdown__content\" onClick={() => dropdown_content_el.current.classList.remove('active')}>\r\n                {\r\n                    props.contentData.length && props.renderItems.length ? props.contentData.map((item, index) => props.renderItems(item, index)) : <Empty style={{ width: 200, color: 'var(--txt-color)' }} image={Empty.PRESENTED_IMAGE_SIMPLE} />\r\n                }\r\n                {\r\n                    props.renderFooter ? (\r\n                        <div className=\"dropdown__footer\">\r\n                            {props.renderFooter()}\r\n                        </div>\r\n                    ) : ''\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dropdown\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst ThemeSlice = createSlice({\r\n    name: \"theme\",\r\n    initialState: {\r\n        color: \"white\",\r\n        mode: \"dark\",\r\n    },\r\n    reducers: {\r\n        setModeTheme: (state, action) => {\r\n            state.mode = action.payload;\r\n        },\r\n\r\n        setColorTheme: (state, action) => {\r\n            state.color = action.payload;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setModeTheme, setColorTheme } = ThemeSlice.actions;\r\n\r\nexport default ThemeSlice.reducer;\r\n","import React, { useRef, useState, useEffect } from 'react'\r\n\r\nimport './thememenu.css'\r\n\r\nimport { useDispatch } from 'react-redux'\r\nimport { setColorTheme, setModeTheme } from '../../redux/slices/ThemeSlice'\r\n\r\n\r\nconst mode_settings = [\r\n    {\r\n        id: 'light',\r\n        name: 'Light',\r\n        background: 'light-background',\r\n        class: 'theme-mode-light'\r\n    },\r\n    {\r\n        id: 'dark',\r\n        name: 'Dark',\r\n        background: 'dark-background',\r\n        class: 'theme-mode-dark'\r\n    }\r\n]\r\n\r\nconst color_settings = [\r\n    {\r\n        id: 'blue',\r\n        name: 'Blue',\r\n        background: 'blue-color',\r\n        class: 'theme-color-blue'\r\n    },\r\n    {\r\n        id: 'red',\r\n        name: 'Red',\r\n        background: 'red-color',\r\n        class: 'theme-color-red'\r\n    },\r\n    {\r\n        id: 'cyan',\r\n        name: 'Cyan',\r\n        background: 'cyan-color',\r\n        class: 'theme-color-cyan'\r\n    },\r\n    {\r\n        id: 'green',\r\n        name: 'Green',\r\n        background: 'green-color',\r\n        class: 'theme-color-green'\r\n    },\r\n    {\r\n        id: 'orange',\r\n        name: 'Orange',\r\n        background: 'orange-color',\r\n        class: 'theme-color-orange'\r\n    },\r\n]\r\n\r\nconst clickOutsideRef = (content_ref, toggle_ref) => {\r\n    document.addEventListener('mousedown', (e) => {\r\n        // user click toggle\r\n        if (toggle_ref.current && toggle_ref.current.contains(e.target)) {\r\n            content_ref.current.classList.toggle('active')\r\n        } else {\r\n            // user click outside toggle and content\r\n            if (content_ref.current && !content_ref.current.contains(e.target)) {\r\n                content_ref.current.classList.remove('active')\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nconst ThemeMenu = () => {\r\n\r\n    const menu_ref = useRef(null)\r\n    const menu_toggle_ref = useRef(null)\r\n\r\n    clickOutsideRef(menu_ref, menu_toggle_ref)\r\n\r\n    const setActiveMenu = () => menu_ref.current.classList.add('active')\r\n\r\n    const closeMenu = () => menu_ref.current.classList.remove('active')\r\n\r\n    const [currMode, setcurrMode] = useState('light')\r\n\r\n    const [currColor, setcurrColor] = useState('blue')\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const setMode = mode => {\r\n        setcurrMode(mode.id)\r\n        localStorage.setItem('themeMode', mode.class)\r\n        dispatch(setModeTheme(mode.class))\r\n    }\r\n\r\n    const setColor = color => {\r\n        setcurrColor(color.id)\r\n        localStorage.setItem('colorMode', color.class)\r\n        dispatch(setColorTheme(color.class))\r\n    }\r\n\r\n    useEffect(() => {\r\n        const themeClass = mode_settings.find(e => e.class === localStorage.getItem('themeMode', 'theme-mode-light'))\r\n\r\n        const colorClass = color_settings.find(e => e.class === localStorage.getItem('colorMode', 'theme-mode-light'))\r\n\r\n        if (themeClass !== undefined) setcurrMode(themeClass.id)\r\n\r\n        if (colorClass !== undefined) setcurrColor(colorClass.id)\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <button ref={menu_toggle_ref} className=\"dropdown__toggle\" onClick={() => setActiveMenu()}>\r\n                <i className='bx bx-palette'></i>\r\n            </button>\r\n            <div ref={menu_ref} className=\"theme-menu\">\r\n                <h4>Theme settings</h4>\r\n                <button className=\"theme-menu__close\" onClick={() => closeMenu()}>\r\n                    <i className='bx bx-x'></i>\r\n                </button>\r\n                <div className=\"theme-menu__select\">\r\n                    <span>Choose mode</span>\r\n                    <ul className=\"mode-list\">\r\n                        {\r\n                            mode_settings.map((item, index) => (\r\n                                <li key={index} onClick={() => setMode(item)}>\r\n                                    <div className={`mode-list__color ${item.background} ${item.id === currMode ? 'active' : ''}`}>\r\n                                        <i className='bx bx-check'></i>\r\n                                    </div>\r\n                                    <span>{item.name}</span>\r\n                                </li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                <div className=\"theme-menu__select\">\r\n                    <span>Choose color</span>\r\n                    <ul className=\"mode-list\">\r\n                        {\r\n                            color_settings.map((item, index) => (\r\n                                <li key={index} onClick={() => setColor(item)}>\r\n                                    <div className={`mode-list__color ${item.background} ${item.id === currColor ? 'active' : ''}`}>\r\n                                        <i className='bx bx-check'></i>\r\n                                    </div>\r\n                                    <span>{item.name}</span>\r\n                                </li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ThemeMenu\r\n","// export const URL = \"https://medical.deepcode.tk\"\r\n// export const URL_AVATAR = \"https://medical.deepcode.tk/assets/avatar\"\r\n// export const URL_PRE = \"https://medical.deepcode.tk/assets/prescription\"\r\n\r\nexport const URL = \"http://3.26.198.69:5050\"\r\nexport const URL_AVATAR = \"http://3.26.198.69:5050/assets/avatar\"\r\nexport const URL_PRE = \"http://3.26.198.69:5050/assets/prescription\"\r\n\r\n// export const URL = \"http://localhost:5050\"\r\n// export const URL_AVATAR = \"http://localhost:5050/assets/avatar\"\r\n// export const URL_PRE = \"http://localhost:5050/assets/prescription\"\r\n\r\n\r\nexport const MAX_ITEMS = 10;\r\n\r\nexport const getBase64 = (file) =>\r\n    new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = (error) => reject(error);\r\n    });\r\n\r\nexport const getLinkAvatar = (name) => `${URL_AVATAR}/${name}`;\r\nexport const getLinkImage = (name) => `${URL_PRE}/${name}`;\r\n\r\nexport function removeAccents(str) {\r\n    var AccentsMap = [\r\n      \"aàảãáạăằẳẵắặâầẩẫấậ\",\r\n      \"AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬ\",\r\n      \"dđ\", \"DĐ\",\r\n      \"eèẻẽéẹêềểễếệ\",\r\n      \"EÈẺẼÉẸÊỀỂỄẾỆ\",\r\n      \"iìỉĩíị\",\r\n      \"IÌỈĨÍỊ\",\r\n      \"oòỏõóọôồổỗốộơờởỡớợ\",\r\n      \"OÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢ\",\r\n      \"uùủũúụưừửữứự\",\r\n      \"UÙỦŨÚỤƯỪỬỮỨỰ\",\r\n      \"yỳỷỹýỵ\",\r\n      \"YỲỶỸÝỴ\"\r\n    ];\r\n    for (var i=0; i<AccentsMap.length; i++) {\r\n      var re = new RegExp('[' + AccentsMap[i].substr(1) + ']', 'g');\r\n      var char = AccentsMap[i][0];\r\n      str = str.replace(re, char);\r\n    }\r\n    return str;\r\n  }\r\n","import { URL } from \"../constants\";\r\n\r\nimport axios from \"axios\";\r\n\r\nconst axiosAuth = axios.create({\r\n    baseURL: URL,\r\n    headers: {\r\n        \"Content-type\": \"application/json\",\r\n    },\r\n});\r\n\r\naxiosAuth.interceptors.request.use(\r\n    (config) => {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        config.headers.Authorization = \"Bearer \" + access_token;\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\naxiosAuth.interceptors.response.use(\r\n    (response) => {\r\n        return response;\r\n    },\r\n    async (error) => {\r\n        const config = error.config;\r\n        // Access Token was expired\r\n        if (error.response && error.response.status === 403 && !config._retry) {\r\n            config._retry = true;\r\n            try {\r\n                const refresh_token = localStorage.getItem(\"refresh_token\");\r\n                if (refresh_token) {\r\n                    const res = await axios({\r\n                        url: URL + \"/user/renew-access-token\",\r\n                        method: \"post\",\r\n                        data: {\r\n                            refresh_token: refresh_token,\r\n                        },\r\n                    });\r\n                    if (res.data.access_token) {\r\n                        localStorage.setItem(\r\n                            \"access_token\",\r\n                            res.data.access_token\r\n                        );\r\n                        localStorage.setItem(\r\n                            \"refresh_token\",\r\n                            res.data.refresh_token\r\n                        );\r\n                    }\r\n                    return axiosAuth(config);\r\n                }\r\n            } catch (error) {\r\n                return Promise.reject(error);\r\n            }\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nconst axiosNotAuth = axios.create();\r\naxiosNotAuth.interceptors.request.use(\r\n    (config) => {\r\n        config.baseURL = URL;\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\nexport { axiosAuth, axiosNotAuth };\r\n","import { axiosAuth } from '../../config/axios';\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport moment from \"moment\";\r\n\r\nexport const GetAppointment = createAsyncThunk('appointment/get-appointment', async ({username, role},thunkAPI) => {\r\n    try {\r\n        const response = await axiosAuth({\r\n            url: \"/medical/appointment\",\r\n            method: \"get\",\r\n        })\r\n        response.data.username = username;\r\n\r\n        const responseUsers = await axiosAuth({\r\n            url: \"/user/get-users\",\r\n            method: \"get\",\r\n        })\r\n        const listBsi = responseUsers.data.data.filter(({role})=> role === 'bs').map((item) => ({label: item?.fullName, value: item.username}))\r\n\r\n        response.data['role'] = role;\r\n        response.data['username'] = username;\r\n        response.data['listBsi'] = listBsi;\r\n        return response.data\r\n    } catch (error) {\r\n        return thunkAPI.rejectWithValue({\r\n            message: 'Có lỗi xảy ra'\r\n        })\r\n    }\r\n})\r\n\r\nconst initialState = {\r\n    appointment: [],\r\n    message: null,\r\n    isLoading: false,\r\n    isSuccess: false,\r\n    isError: false,\r\n};\r\n\r\nconst AppointmentSlice = createSlice({\r\n    name: 'appointment',\r\n    initialState,\r\n    reducers: {\r\n\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(GetAppointment.fulfilled, (state, { payload }) => {\r\n            let listFilter = payload.data\r\n\r\n            if(payload?.role == \"bs\") {\r\n                listFilter = listFilter?.filter((item) => item?.users?.includes(payload?.username));\r\n            }\r\n            listFilter = listFilter?.filter((item) => item?.status !== \"0\");\r\n            const {listBsi} = payload\r\n\r\n            listFilter = listFilter.map(item => {\r\n                const listUser = item?.users?.split(',');\r\n\r\n                const list = listUser?.map(user => {\r\n                    const result = listBsi?.find(bsi => bsi.value === user)\r\n                    return result ? result?.label : ''\r\n                })\r\n                return ({\r\n                    ...item,\r\n                    listUser: list,\r\n                })\r\n            })\r\n\r\n\r\n            state.appointment =  listFilter.sort((a, b) => moment(a.appointment).diff(moment(b.appointment)));\r\n            state.isLoading = false;\r\n            state.isSuccess = true;\r\n            state.isError = false;\r\n        });\r\n        builder.addCase(GetAppointment.pending, (state, { payload }) => {\r\n            state.isLoading = true;\r\n            state.isSuccess = false;\r\n            state.isError = false;\r\n        });\r\n        builder.addCase(GetAppointment.rejected, (state, { payload }) => {\r\n            state.isLoading = false;\r\n            state.isSuccess = false;\r\n            state.isError = true;\r\n            state.message = payload?.message;\r\n        });\r\n    },\r\n});\r\n\r\nexport default AppointmentSlice.reducer;\r\n","import React, {useEffect, useState} from \"react\";\r\nimport \"./topnav.css\";\r\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport Dropdown from \"../dropdown/Dropdown\";\r\nimport ThemeMenu from \"../thememenu/ThemeMenu\";\r\nimport user_menu from \"../../assets/JsonData/user_menus.json\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { Avatar, Tooltip, Typography } from \"antd\";\r\nimport { URL_AVATAR } from \"../../constants\";\r\nimport { GetAppointment } from './../../redux/slices/AppointmentSlice';\r\nimport moment from \"moment\";\r\n\r\nconst { Text } = Typography\r\n\r\nconst renderNotificationItem = (item, index, history) => (\r\n    <div className=\"notification-item\" key={index} onClick={() => history.push(\r\n        `/medical/get-medical-record/${item.medicalrecordid}`\r\n    )}>\r\n        <i style={{ fontSize: '13px' }}>{moment(item.updateAt).format(\"DD/MM/YYYY\")}</i>\r\n        <Tooltip title={item.medicalName}>\r\n            <Text className=\"layout\" ellipsis>{item.medicalName}</Text>\r\n        </Tooltip>\r\n    </div>\r\n);\r\n\r\nconst renderUserToggle = (user) => (\r\n    <div className=\"topnav__right-user\">\r\n        <div className=\"topnav__right-user__image\">\r\n            {/* <img src={user.avatar} alt=\"\" /> */}\r\n            <AvatarProfile src={`${URL_AVATAR}/${user?.avatar}`}>\r\n                {user?.fullName?.slice(0, 2).toUpperCase() ||\r\n                    user?.username?.slice(0, 2).toUpperCase()}\r\n            </AvatarProfile>\r\n        </div>\r\n        <div className=\"topnav__right-user__name\">{user?.fullName}</div>\r\n    </div>\r\n);\r\n\r\nconst renderUserMenu = (item, index) => (\r\n    <Link to={item.link} key={index}>\r\n        <div className=\"notification-item\">\r\n            <i className={item.icon}></i>\r\n            <span>{item.content}</span>\r\n        </div>\r\n    </Link>\r\n);\r\n\r\nconst Topnav = () => {\r\n    const {isSuccess,user} = useSelector((state) => state.user);\r\n    const appointment = useSelector((state) => state.appointment.appointment);\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const [notify, setNotify] = useState(true);\r\n\r\n    React.useEffect(() => {\r\n        if(user?.username) {\r\n            dispatch(GetAppointment(user))\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user?.username])\r\n\r\n    const handleSearch = (e) => {\r\n        const { value } = e.target\r\n        if (e.keyCode === 13) {\r\n            history.push(`/medicals?q=${value}`)\r\n        }\r\n    }\r\n    const location = useLocation();\r\n    //\r\n    // useEffect(() => {\r\n    //     if(isSuccess && (!user.phone || !user.fullName)) {\r\n    //         history && history.push(\"/profile\")\r\n    //         return;\r\n    //     }\r\n    // }, []);\r\n\r\n\r\n    return (\r\n        <div className=\"topnav\">\r\n            <div className=\"topnav__search\">\r\n                {/* <input type=\"text\" id=\"search-top\" placeholder=\"Search here...\" onKeyDown={handleSearch} /> */}\r\n                <i className=\"bx bx-search\"></i>\r\n            </div>\r\n            <div className=\"topnav__right\">\r\n                <div className=\"topnav__right-item\">\r\n                    {/* dropdown here */}\r\n                    <Dropdown\r\n                        customToggle={() => renderUserToggle(user)}\r\n                        contentData={user_menu}\r\n                        renderItems={(item, index) =>\r\n                            renderUserMenu(item, index)\r\n                        }\r\n                    />\r\n                </div>\r\n                <div className=\"topnav__right-item\" onClick={() => setNotify(false)}>\r\n                    <Dropdown\r\n                        icon=\"bx bx-bell\"\r\n                        badge={notify && appointment?.length}\r\n                        contentData={appointment.slice(0, 5)}\r\n                        renderItems={(item, index) =>\r\n                            renderNotificationItem(item, index, history)\r\n                        }\r\n                        renderFooter={() => appointment.length ? <Link style={{ width: '100%', display: 'block' }} to=\"/appointment\">Xem thêm</Link> : <></>}\r\n                    />\r\n                    {/* dropdown here */}\r\n                </div>\r\n                <div className=\"topnav__right-item\">\r\n                    <ThemeMenu />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Topnav;\r\n\r\nconst AvatarProfile = styled(Avatar)`\r\n    width: 40px;\r\n    height: 40px;\r\n    /* background-color: var(--main-color); */\r\n    font-size: 50px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n","import { Skeleton } from \"antd\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport \"./table.css\";\r\n\r\nconst renderCustomerBodySkeleton = () => {\r\n    return <tr>\r\n        <th> <Skeleton.Input active size=\"small\" block /></th>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n    </tr>\r\n}\r\n\r\n\r\nconst Table = (props) => {\r\n    const [dataShow, setDataShow] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const initDataShow =\r\n            props.limit && props.bodyData\r\n                ? props.bodyData.slice(0, Number(props.limit))\r\n                : props.bodyData;\r\n        const data = initDataShow.map((x, index) => {\r\n            return {\r\n                ...x,\r\n                stt: index + 1\r\n            }\r\n        })\r\n        setDataShow(data);\r\n    }, [props]);\r\n\r\n    let pages = 1;\r\n\r\n    let range = [];\r\n\r\n    if (props.limit !== undefined && props.bodyData !== undefined) {\r\n        let page = Math.floor(props.bodyData.length / Number(props.limit));\r\n        pages =\r\n            props.bodyData.length % Number(props.limit) === 0 ? page : page + 1;\r\n        range = [...Array(pages).keys()];\r\n    }\r\n\r\n    const [currPage, setCurrPage] = useState(0);\r\n\r\n    const selectPage = (page) => {\r\n        setIsLoading(true)\r\n        const start = Number(props.limit) * page;\r\n        const end = start + Number(props.limit);\r\n\r\n        const data = props.bodyData.slice(start, end).map((x, index) => {\r\n            return {\r\n                ...x,\r\n                stt: start + index + 1\r\n            }\r\n        })\r\n\r\n        setTimeout(() => {\r\n            setIsLoading(false)\r\n            setDataShow(data);\r\n            setCurrPage(page);\r\n        }, 200)\r\n\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"table-wrapper\">\r\n                <table>\r\n                    {props.headData && props.renderHead ? (\r\n                        <thead>\r\n                            <tr>\r\n                                {props.headData.map((item, index) =>\r\n                                    props.renderHead(item, index)\r\n                                )}\r\n                            </tr>\r\n                        </thead>\r\n                    ) : null}\r\n                    {props.bodyData && props.renderBody ? (\r\n                        <tbody>\r\n                            {\r\n                                isLoading ? [1, 2, 3, 4, 5, 1, 2, 3, 4, 5].map(_ => renderCustomerBodySkeleton()) :\r\n                                    dataShow.map((item, index) =>\r\n                                        props.renderBody(item, index)\r\n                                    )}\r\n                        </tbody>\r\n                    ) : null}\r\n                </table>\r\n            </div>\r\n            {pages > 1 ? (\r\n                <div className=\"table__pagination\">\r\n                    {range.map((item, index) => (\r\n                        <div\r\n                            key={index}\r\n                            className={`table__pagination-item ${currPage === index ? \"active\" : \"\"\r\n                                }`}\r\n                            onClick={() => selectPage(index)}\r\n                        >\r\n                            {item + 1}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            ) : null}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Table;\r\n","import { useEffect, useState } from \"react\";\r\nimport { axiosAuth } from \"../config/axios\";\r\nimport moment from \"moment\";\r\nimport {Button, Col, DatePicker, Form, Input, message, Radio} from \"antd\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { URL_AVATAR } from \"../constants\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst Profile = () => {\r\n    const [form] = Form.useForm();\r\n    const user = useSelector((state) => state.user.user);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log(\"Failed:\", errorInfo);\r\n    };\r\n    const [avatar, setAvatar] = useState(null);\r\n\r\n\r\n    const handleUpdate = (values) => {\r\n        setIsLoading(true)\r\n        const formData = new FormData();\r\n        const temp = {\r\n            ...user,\r\n            ...values,\r\n        }\r\n        for (let [key, value] of Object.entries(temp)) {\r\n            if (key === \"avatar\" && avatar) {\r\n                formData.append(\"avatar\", avatar, avatar?.name);\r\n            } else if (key === \"birthday\") {\r\n                formData.append(\"birthday\", value.format('DD/MM/YYYY'));\r\n            }\r\n            else {\r\n                formData.append(key, value);\r\n            }\r\n        }\r\n\r\n        axiosAuth({\r\n            url: \"/user/update\",\r\n            method: \"post\",\r\n            data: formData,\r\n        })\r\n            .then(() => {\r\n                message.success(\"Cập nhật thành công\");\r\n                window.location.href = \"/\";\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n        setIsLoading(false)\r\n    };\r\n    const [imageUrl, setImageUrl] = useState();\r\n\r\n    const handleChange = (e) => {\r\n        const fileList = e.target.files;\r\n        if (!fileList) return;\r\n        setAvatar((prev) => {\r\n            return fileList[0];\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (user?.avatar) {\r\n            setImageUrl(`${URL_AVATAR}/${user.avatar}`);\r\n        }\r\n        form.setFieldValue(\"fullName\", user.fullName);\r\n        form.setFieldValue(\"address\", user.address);\r\n        form.setFieldValue(\"birthday\", user?.birthday ? moment(user?.birthday) : moment());\r\n        form.setFieldValue(\"phone\", user.phone);\r\n        form.setFieldValue(\"role\", user.role);\r\n        form.setFieldValue(\"username\", user.username);\r\n    }, [form, user]);\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"page-header layout\">Thông tin cá nhân</h2>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card__body\">\r\n                            <FCenter>\r\n                                <Form\r\n                                    form={form}\r\n                                    name=\"basic\"\r\n                                    labelCol={{ span: 8 }}\r\n                                    wrapperCol={{ span: 16 }}\r\n                                    onFinishFailed={onFinishFailed}\r\n                                    autoComplete=\"off\"\r\n                                    onFinish={handleUpdate}\r\n                                // onSubmitCapture={handleUpdate}\r\n                                >\r\n                                    <Col span={16} offset={8}>\r\n                                        <label\r\n                                            htmlFor=\"avatar\"\r\n                                            style={{\r\n                                                cursor: \"pointer\",\r\n                                                margin: \"0 auto\",\r\n                                                display: \"flex\",\r\n                                                justifyContent: \"center\",\r\n                                                marginBottom: \"10px\",\r\n                                            }}\r\n                                        >\r\n                                            <img\r\n                                                src={\r\n                                                    avatar\r\n                                                        ? URL.createObjectURL(\r\n                                                            avatar\r\n                                                        )\r\n                                                        : imageUrl ||\r\n                                                        \"avatar-default-icon.png\"\r\n                                                }\r\n                                                alt=\"avatar\"\r\n                                                style={{\r\n                                                    width: \"100px\",\r\n                                                    height: \"100px\",\r\n                                                    objectFit: \"cover\",\r\n                                                    borderRadius: \"50%\",\r\n                                                }}\r\n                                            />\r\n                                        </label></Col>\r\n                                    <Form.Item\r\n                                        label=\"Ảnh đại diện\"\r\n                                        name=\"avatar\"\r\n                                    >\r\n                                        <CInput\r\n                                            type=\"file\"\r\n                                            id=\"avatar\"\r\n                                            name=\"avatar\"\r\n                                            onChange={handleChange}\r\n                                        />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        label=\"Username\"\r\n                                        name=\"username\"\r\n                                    >\r\n                                        <CInput name=\"fullName\" disabled placeholder=\"username\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        label=\"Tên hiển thị\"\r\n                                        name=\"fullName\"\r\n                                        rules={[\r\n                                            {\r\n                                                required: true,\r\n                                                message: \"Vui lòng nhập tên\",\r\n                                            },\r\n                                        ]}\r\n                                    >\r\n                                        <CInput name=\"fullName\" placeholder=\"Tên hiển thị\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        label=\"Ngày sinh\"\r\n                                        name=\"birthday\"\r\n                                        rules={[\r\n                                            {\r\n                                                required: true,\r\n                                                message: \"Vui lòng nhập ngày sinh\",\r\n                                            },\r\n                                        ]}\r\n                                    >\r\n                                        <DInput\r\n                                            type=\"date\"\r\n                                            name=\"birthday\"\r\n                                            format=\"DD/MM/YYYY\"\r\n                                            placeholder=\"Ngày sinh\"\r\n                                        />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        label=\"Số điện thoại\"\r\n                                        name=\"phone\"\r\n                                        rules={[\r\n                                            {\r\n                                                required: true,\r\n                                                message: \"Vui lòng nhập số điện thoại\",\r\n                                            },\r\n                                            {\r\n                                            message: \"Vui lòng nhập đúng số điện thoại\",\r\n                                            pattern: /(84|0[3|5|7|8|9])+([0-9]{8})\\b/g\r\n                                        }]}\r\n                                    >\r\n                                        <CInput name=\"phone\" placeholder=\"Số điện thoại\" />\r\n                                    </Form.Item>\r\n                                    <Form.Item label=\"Địa chỉ\" name=\"address\" rules={[\r\n                                        {\r\n                                            required: true,\r\n                                            message: \"Vui lòng nhập địa chỉ\",\r\n                                        },\r\n                                    ]}>\r\n                                        <CInput name=\"address\" placeholder=\"Địa chỉ\" />\r\n                                    </Form.Item>\r\n                                    {/* <Form.Item\r\n                                        label=\"Chức vụ\"\r\n                                        name=\"role\"\r\n                                        initialValue=\"bs\"\r\n                                    >\r\n                                        <Radio.Group>\r\n                                            <Radio value=\"bs\">Bác sĩ</Radio>\r\n                                            <Radio value=\"yt\">Y tá</Radio>\r\n                                        </Radio.Group>\r\n                                    </Form.Item> */}\r\n                                    <Form.Item\r\n                                        wrapperCol={{ offset: 8, span: 16 }}\r\n                                    >\r\n                                        <CButton\r\n                                            type=\"primary\"\r\n                                            htmlType=\"submit\"\r\n                                            loading={isLoading}\r\n                                        >\r\n                                            Cập nhật\r\n                                        </CButton>\r\n                                    </Form.Item>\r\n                                </Form>\r\n                            </FCenter>\r\n                        </div>\r\n                        <div style={{ textAlign: 'end', borderTop: '1px solid #dcd4d4', paddingTop: 10 }}>\r\n                            <Link\r\n                                to=\"/update-pass\"\r\n                                className=\"\"\r\n                            >\r\n                                Cập nhật mật khẩu\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n\r\nexport const CInput = styled(Input)`\r\n    height: ${(p) => p.height || \"100%\"};\r\n    width: ${(p) => p.width || \"100%\"};\r\n    padding: 10px 10px 10px 20px;\r\n    font-size: 1rem;\r\n    border-radius: var(--border-radius);\r\n    color: var(--txt-color);\r\n    background-color: var(--main-bg);\r\n    box-shadow: var(--box-shadow);\r\n    border: 2px solid transparent;\r\n    \r\n    &:hover {\r\n        border: 2px solid var(--main-color);;\r\n    }\r\n`;\r\n\r\nexport const DInput = styled(DatePicker)`\r\n    height: 100%;\r\n    width: ${(p) => p.width || \"100%\"};\r\n    padding: 10px 10px 10px 20px;\r\n    font-size: 1rem;\r\n    box-sizing: border-box;\r\n    border-radius: var(--border-radius);\r\n    color: var(--txt-color);\r\n    background-color: var(--main-bg);\r\n    box-shadow: var(--box-shadow);\r\n    border: 2px solid transparent;\r\n\r\n    &:hover {\r\n        border: 2px solid var(--main-color);;\r\n    }\r\n\r\n    .ant-picker-input {\r\n        input {\r\n            border: none;\r\n            color: var(--txt-color);\r\n        }\r\n    }\r\n    .ant-picker-suffix {\r\n        color: var(--txt-color);\r\n    }\r\n\r\n    .ant-picker-status-error.ant-picker,\r\n    .ant-picker-status-error.ant-picker:not([disabled]):hover {\r\n        background-color: var(--main-bg) !important;\r\n    }\r\n\r\n`;\r\n\r\nexport const FCenter = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nexport const CButton = styled(Button)`\r\n    width: ${(p) => p.width || \"100%\"};\r\n    border-radius: var(--border-radius);\r\n    color: var(--txt-white);\r\n    background-color: var(--main-color);\r\n    box-shadow: var(--box-shadow);\r\n    text-align: center;\r\n    height: 40px;\r\n\r\n    :hover {\r\n     background-color: var(--second-color);\r\n     color: var(--txt-white);\r\n    }\r\n`;\r\n","import {Form, message, Modal, Select} from \"antd\";\r\nimport moment from \"moment\";\r\nimport { axiosAuth } from \"../../../config/axios\";\r\nimport {CButton, CInput, DInput} from \"../../Profile\";\r\nimport React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nexport function isDuplicateAppointment(dataList, appointmentTime) {\r\n    // YYYY-MM-DD\r\n    const duplicate = dataList.some(data => data.appointment === appointmentTime);\r\n    return duplicate;\r\n}\r\n\r\nexport default function UpdateAppointment({ visible, closeModal, oldData, dataList }) {\r\n    const [users, setUsers] = React.useState([]);\r\n    const [selected, setSelected] = React.useState([]);\r\n\r\n    const handleUpdate = (values) => {\r\n\r\n        const newAppointmentTime = moment(values.appointment).format('HH:mm YYYY-MM-DD');\r\n        if (isDuplicateAppointment(dataList, newAppointmentTime)) {\r\n            console.log('Cannot add appointment. Duplicate time already exists.');\r\n            message.error('Đã có lịch hẹn, chọn khung giờ khác!!!')\r\n            return;\r\n        }\r\n\r\n\r\n        if(!selected || selected?.length == 0) {\r\n            message.error(\"Vui lòng chọn bác sĩ\")\r\n            return;\r\n        }\r\n        // e.preventDefault();\r\n        const data = {\r\n            ...oldData,\r\n            date: moment(oldData.date).format(\"DD/MM/YYYY\"),\r\n            appointment: moment(values.appointment).format(\"HH:mm DD/MM/YYYY\"),\r\n            users: selected.join(',')\r\n        };\r\n\r\n        axiosAuth({\r\n            url: \"/medical/update-medical-result\",\r\n            method: \"post\",\r\n            data,\r\n        }).then(() => {\r\n            // window.location.reload();\r\n            message.success('Cập nhật thành công')\r\n            closeModal()\r\n        })\r\n            .catch((error) => console.log(error));\r\n    };\r\n\r\n    const init = async () => {\r\n        try {\r\n            const response = await axiosAuth({\r\n                url: \"/user/get-users\",\r\n                method: \"get\",\r\n            })\r\n\r\n            const list = response.data.data.filter(({role})=> role === 'bs').map((item) => ({label: item?.fullName, value: item.username}))\r\n            setUsers(list)\r\n        } catch (error) {\r\n            message.error(\"Lỗi\")\r\n        }\r\n    }\r\n    React.useEffect(() => {\r\n       if(visible) {\r\n           init()\r\n           setSelected(oldData?.users?.split(','))\r\n       }\r\n    }, [visible])\r\n\r\n    return (\r\n        <Modal\r\n            destroyOnClose\r\n            centered\r\n            title=\"Cập nhật lịch hẹn\"\r\n            open={visible}\r\n            onCancel={closeModal}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                name=\"basic\"\r\n                labelCol={{ span: 8 }}\r\n                wrapperCol={{ span: 16 }}\r\n                autoComplete=\"off\"\r\n                style={{ marginRight: \"50px\" }}\r\n                onFinish={handleUpdate}\r\n                initialValues={{\r\n                    appointment: oldData?.appointment ? moment(oldData?.appointment) : \"\",\r\n                }}\r\n            >\r\n                <Form.Item label=\"Lịch hẹn\" name=\"appointment\" rules={[{ required: true, message: 'Vui lòng chọn lịch hẹn' }]}>\r\n                    <DInput\r\n                        format=\"HH:mm DD/MM/YYYY\"\r\n                        showTime\r\n                        minuteStep={30}\r\n                        placeholder=\"Chọn lịch hẹn\"\r\n                        disabledDate={(current) => {\r\n                            return moment().add(0, 'days') >= current\r\n                        }}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item label=\"Bác sĩ\" rules={[{ required: true, message: 'Vui lòng chọn bác sĩ' }]}>\r\n                    <Select\r\n                        value={selected}\r\n                        onChange={setSelected}\r\n                        showSearch\r\n                        mode=\"tags\"\r\n                        maxTagCount=\"responsive\"\r\n                        style={{ width: 250 }}\r\n                        placeholder=\"Vui lòng chọn bác sĩ\"\r\n                        optionFilterProp=\"children\"\r\n                        filterOption={(input, option) => (option?.label ?? '').includes(input)}\r\n                        filterSort={(optionA, optionB) =>\r\n                            (optionA?.label ?? '').toLowerCase().localeCompare((optionB?.label ?? '').toLowerCase())\r\n                        }\r\n                        options={users}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n                    <CButton type=\"primary\" htmlType=\"submit\">\r\n                        Cập nhật\r\n                    </CButton>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","export const ZaloIcon = ({onClick , width}) => {\r\n\r\n    return <svg onClick={onClick} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 48 48\" width={ width  || \"30px\"} height={width || \"30px\"}><path fill=\"#2962ff\" d=\"M15,36V6.827l-1.211-0.811C8.64,8.083,5,13.112,5,19v10c0,7.732,6.268,14,14,14h10\tc4.722,0,8.883-2.348,11.417-5.931V36H15z\"/><path fill=\"#eee\" d=\"M29,5H19c-1.845,0-3.601,0.366-5.214,1.014C10.453,9.25,8,14.528,8,19\tc0,6.771,0.936,10.735,3.712,14.607c0.216,0.301,0.357,0.653,0.376,1.022c0.043,0.835-0.129,2.365-1.634,3.742\tc-0.162,0.148-0.059,0.419,0.16,0.428c0.942,0.041,2.843-0.014,4.797-0.877c0.557-0.246,1.191-0.203,1.729,0.083\tC20.453,39.764,24.333,40,28,40c4.676,0,9.339-1.04,12.417-2.916C42.038,34.799,43,32.014,43,29V19C43,11.268,36.732,5,29,5z\"/><path fill=\"#2962ff\" d=\"M36.75,27C34.683,27,33,25.317,33,23.25s1.683-3.75,3.75-3.75s3.75,1.683,3.75,3.75\tS38.817,27,36.75,27z M36.75,21c-1.24,0-2.25,1.01-2.25,2.25s1.01,2.25,2.25,2.25S39,24.49,39,23.25S37.99,21,36.75,21z\"/><path fill=\"#2962ff\" d=\"M31.5,27h-1c-0.276,0-0.5-0.224-0.5-0.5V18h1.5V27z\"/><path fill=\"#2962ff\" d=\"M27,19.75v0.519c-0.629-0.476-1.403-0.769-2.25-0.769c-2.067,0-3.75,1.683-3.75,3.75\tS22.683,27,24.75,27c0.847,0,1.621-0.293,2.25-0.769V26.5c0,0.276,0.224,0.5,0.5,0.5h1v-7.25H27z M24.75,25.5\tc-1.24,0-2.25-1.01-2.25-2.25S23.51,21,24.75,21S27,22.01,27,23.25S25.99,25.5,24.75,25.5z\"/><path fill=\"#2962ff\" d=\"M21.25,18h-8v1.5h5.321L13,26h0.026c-0.163,0.211-0.276,0.463-0.276,0.75V27h7.5\tc0.276,0,0.5-0.224,0.5-0.5v-1h-5.321L21,19h-0.026c0.163-0.211,0.276-0.463,0.276-0.75V18z\"/></svg>\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport Table from \"../components/table/Table\";\r\nimport moment from \"moment\";\r\nimport {Empty, Row, Space, Spin, Tooltip, Typography} from \"antd\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {CopyOutlined, EyeOutlined, PhoneOutlined} from '@ant-design/icons';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport UpdateAppointment from \"./Medical/Update/UpdateAppointment\";\r\nimport { ZaloIcon } from \"../assets/Icon/ZaloIcon\";\r\nimport { EditOutlined } from '@ant-design/icons';\r\nimport { GetAppointment } from \"../redux/slices/AppointmentSlice\";\r\n\r\nconst appointmentTableHead = [\"#\", \"Ngày hẹn\", \"Bệnh nhân\", \"Bệnh\", \"Bác sĩ\",\"SĐT\", \"Địa chỉ\", \"\", \"\"];\r\n\r\nconst renderHead = (item, index) => <th key={index}>{item}</th>;\r\n\r\nconst { Text,Paragraph  } = Typography\r\nconst renderBody = (item, index, history, openModal) => (\r\n    <tr key={index}>\r\n        <th>{item.stt}</th>\r\n        <td>{moment(item.appointment).format(\"HH:mm DD/MM/YYYY\")}</td>\r\n        <td width={200}>{item?.fullName}</td>\r\n        <td width={300}>{item?.medicalName}</td>\r\n        <td width={300}>{item?.listUser?.join(\", \")}</td>\r\n        <td width={150}><Paragraph copyable={{\r\n            icon: <CopyOutlined className=\"txtcolor\" />\r\n        }} className=\"txtcolor\">{item?.phone}</Paragraph>\r\n            <Space>\r\n                <Tooltip title=\"Gọi ngay\">\r\n                    <PhoneOutlined onClick={() => window.open(`tel:${item?.phone}`)} style={{fontSize: 24}} />\r\n                </Tooltip>\r\n                <Tooltip title=\"Nhắn zalo\">\r\n                    <ZaloIcon onClick={() => window.open(`https://zalo.me/${item?.phone}`)} />\r\n                </Tooltip>\r\n            </Space></td>\r\n        <td width={150}>\r\n            <Text style={{ width: 150 }} ellipsis={{ tooltip: item?.address }} className=\"txtcolor\">\r\n                {item?.address}\r\n            </Text>\r\n        </td>\r\n        {/* <td>\r\n            {\r\n                item.phone ?\r\n                    <Row align=\"middle\" style={{ gap: '10px' }}>\r\n                        <PhoneOutlined style={{ fontSize: '22px' }} onClick={() => window.open(`tel:${item.phone}`)} />\r\n                        <ZaloIcon onClick={() => window.open(`https://zalo.me/${item.phone}`)} />\r\n                    </Row> : <></>\r\n            }\r\n\r\n        </td> */}\r\n        <td>\r\n            <Tooltip title=\"Xem chi tiết\">\r\n                <EyeOutlined\r\n                    onClick={() =>\r\n                        history.push(\r\n                            `/medical/get-medical-record/${item.medicalrecordid}`\r\n                        )\r\n                    }\r\n                />\r\n            </Tooltip>\r\n        </td>\r\n        <td>\r\n            <Tooltip title=\"Chỉnh sửa lịch hẹn\">\r\n                <EditOutlined onClick={() => openModal(item)} />\r\n            </Tooltip>\r\n        </td>\r\n    </tr>\r\n);\r\n\r\nconst Appointment = () => {\r\n    const { appointment } = useSelector(state => state.appointment)\r\n    const history = useHistory()\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const dispatch = useDispatch()\r\n    const [recordUpdate, setRecordUpdate] = useState(null);\r\n    const user = useSelector((state) => state.user.user);\r\n    const [loading, setLoading] = useState(false);\r\n    const { isSuccess : isSSMedical } = useSelector(state => state.medical)\r\n    const { isSuccess : isSSUser} = useSelector(state => state.user);\r\n\r\n    useEffect(() => {\r\n        if(isSSUser && user?.username && (!user.phone || !user.fullName)) {\r\n            history && history.push(\"/profile\")\r\n            return;\r\n        }\r\n    }, [isSSUser, isSSMedical, history]);\r\n    const openModal = (item) => {\r\n        setModalVisible(true);\r\n        setRecordUpdate(item);\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        const init = async () =>{\r\n            setLoading(true)\r\n           await dispatch(GetAppointment(user))\r\n            setLoading(false)\r\n        }\r\n        if(user?.username) {\r\n            init()\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [modalVisible, user?.username])\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false);\r\n        setRecordUpdate(null);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"page-header layout\">Lịch hẹn bệnh nhân</h2>\r\n            <Spin spinning={loading}>\r\n            <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card__body\" style={{ minHeight: 300 }}>\r\n                                {\r\n                                    appointment.length ?\r\n                                        <Table\r\n                                            limit=\"10\"\r\n                                            headData={appointmentTableHead}\r\n                                            renderHead={(item, index) =>\r\n                                                renderHead(item, index)\r\n                                            }\r\n                                            bodyData={appointment}\r\n                                            renderBody={(item, index) =>\r\n                                                renderBody(item, index, history, openModal)\r\n                                            }\r\n                                        /> :\r\n                                        <Empty />\r\n                                }\r\n\r\n                            </div>\r\n                            <UpdateAppointment visible={modalVisible} closeModal={closeModal} oldData={recordUpdate} dataList={appointment} />\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            </Spin>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Appointment;\r\n","import { axiosAuth } from \"../../config/axios\";\r\nimport { createSlice, createAsyncThunk, current } from \"@reduxjs/toolkit\";\r\nimport moment from \"moment\";\r\nimport { removeAccents } from \"../../constants\";\r\n\r\nexport const GetMedicals = createAsyncThunk(\r\n    \"medical/get-medicals\",\r\n    async ({username, role},thunkAPI) => {\r\n        try {\r\n            const response = await axiosAuth({\r\n                url: \"/medical/get-medical-records\",\r\n                method: \"get\",\r\n            });\r\n\r\n            const responseUsers = await axiosAuth({\r\n                url: \"/user/get-users\",\r\n                method: \"get\",\r\n            })\r\n            const listBsi = responseUsers.data.data.filter(({role})=> role === 'bs').map((item) => ({label: item?.fullName, value: item.username}))\r\n\r\n            console.log(role)\r\n            response.data['role'] = role;\r\n            response.data['username'] = username;\r\n            response.data['listBsi'] = listBsi;\r\n            return response.data;\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue({\r\n                message: \"Có lỗi xảy ra\",\r\n            });\r\n        }\r\n    }\r\n);\r\n\r\nexport const FilterMedicals = createAsyncThunk(\r\n    \"medical/filter-medicals\",\r\n    async (data, thunkAPI) => {\r\n        try {\r\n            const response = await axiosAuth({\r\n                url: \"/medical/search-medical-record\",\r\n                method: \"post\",\r\n                data,\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue({\r\n                message: \"Có lỗi xảy ra\",\r\n            });\r\n        }\r\n    }\r\n)\r\n\r\nconst initialState = {\r\n    medical: [],\r\n    medicalFilter: [],\r\n    medicalTotal: [],\r\n    medicalStatistics: [],\r\n    medicalDeleted: [],\r\n    message: null,\r\n    isLoading: false,\r\n    isSuccess: localStorage.getItem(\"access_token\") !== null,\r\n    isError: false,\r\n};\r\n\r\nconst MedicalSlice = createSlice({\r\n    name: \"medical\",\r\n    initialState,\r\n    reducers: {\r\n        handleChangePage: (state) => {\r\n            state.isLoading = true;\r\n            setTimeout(() => {\r\n                state.isLoading = false;\r\n            }, 200)\r\n        },\r\n        filterData: (state, { payload }) => {\r\n            try {\r\n                const curState = current(state);\r\n                const { text_search } = payload;\r\n                const data = curState.medical.filter(item => item.text_search?.includes(text_search))\r\n                state.medicalFilter = data;\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(GetMedicals.fulfilled, (state, { payload }) => {\r\n\r\n            let monthStatistics = [];\r\n            let medicalTotal = {};\r\n            let totalHospital = [];\r\n            let totalPeople = [];\r\n            let totalVisited = 0;\r\n            let totalMedicine = 0\r\n\r\n            for (let i = 1; i <= 12; i++) {\r\n                monthStatistics.push(0);\r\n            }\r\n\r\n            let listMedicalFilter = payload.data;\r\n            const {listBsi, role} = payload\r\n\r\n            if(payload?.role == \"bs\") {\r\n                listMedicalFilter = listMedicalFilter?.filter((item) => item?.users?.includes(payload?.username));\r\n            }\r\n\r\n            let totalRecord = listMedicalFilter.length\r\n\r\n\r\n            console.log(listBsi)\r\n            listMedicalFilter = listMedicalFilter.map(item => {\r\n                const listUser = item?.users?.split(',');\r\n                console.log(listUser)\r\n\r\n                const list = listUser?.map(user => {\r\n                    const result = listBsi.find(bsi => bsi.value === user)\r\n                    return result ? result?.label : ''\r\n                })\r\n                return ({\r\n                    ...item,\r\n                    listUser: list,\r\n                })\r\n            })\r\n\r\n            const listMedical = listMedicalFilter.map(record => {\r\n                if (moment(record.updateAt).year() === moment().year() && moment(record.createAt).year() === moment().year()) {\r\n                    const monthIndex = moment(record.createAt).month();\r\n                    monthStatistics[monthIndex] += record.medicalResults.length\r\n                }\r\n                // only not delete\r\n                if (record.status === \"1\") {\r\n                    if (!totalHospital.includes(record.hospitalName)) {\r\n                        totalHospital.push(record.hospitalName)\r\n                    }\r\n                    if (!totalPeople.includes(record.fullName)) {\r\n                        totalPeople.push(record.fullName)\r\n                    }\r\n                    totalVisited += record.medicalResults.length\r\n                    totalMedicine += +record.medicine_count\r\n\r\n                }\r\n\r\n                const fullName = record.fullName.toLocaleLowerCase();\r\n                const phone = record.phone.toLocaleLowerCase();\r\n                return { ...record, text_search: `${fullName}${phone}${removeAccents(`${fullName}${phone}`)}` }\r\n            });\r\n\r\n            medicalTotal = [\r\n                {\r\n                    \"icon\": \"fa fa-user\",\r\n                    \"count\": totalPeople.length,\r\n                    \"title\": \"Bệnh nhân\"\r\n                },\r\n                {\r\n                    \"icon\": \"fa fa-medkit\",\r\n                    \"count\": totalRecord,\r\n                    \"title\": \"Bệnh án\"\r\n                },\r\n                {\r\n                    \"icon\": \"fa fa-ambulance\",\r\n                    \"count\": totalVisited,\r\n                    \"title\": \"Lần khám\"\r\n                },\r\n                {\r\n                    \"icon\": \"bx bx-file\",\r\n                    \"count\": totalMedicine,\r\n                    \"title\": \"Toa Thuốc\"\r\n                }\r\n            ]\r\n\r\n            const medical = listMedical.filter(x => x.status === '1');\r\n            state.medical = medical.sort((a, b) => moment(b.updateAt) - moment(a.updateAt));\r\n            state.medicalFilter = medical.sort((a, b) => moment(b.updateAt) - moment(a.updateAt));\r\n            state.medicalDeleted = listMedical.filter(x => x.status === '0');\r\n            state.medicalStatistics = monthStatistics;\r\n            state.medicalTotal = medicalTotal;\r\n            state.isLoading = false;\r\n            state.isSuccess = true;\r\n            state.isError = false;\r\n        });\r\n        builder.addCase(GetMedicals.pending, (state, { payload }) => {\r\n            state.isLoading = true;\r\n            state.isSuccess = false;\r\n            state.isError = false;\r\n        });\r\n        builder.addCase(GetMedicals.rejected, (state, { payload }) => {\r\n            state.isLoading = false;\r\n            state.isSuccess = false;\r\n            state.isError = true;\r\n            state.message = payload?.message;\r\n        });\r\n    },\r\n});\r\n\r\nexport default MedicalSlice.reducer;\r\n\r\nexport const { handleChangePage, filterData } = MedicalSlice.actions\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Table from \"../components/table/Table\";\r\nimport { Avatar, Button, Empty, Space, Tooltip } from \"antd\";\r\nimport styled from \"styled-components\";\r\nimport { CalendarOutlined, ContactsOutlined, EditOutlined, EyeOutlined, HomeOutlined, PhoneOutlined } from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\nimport { axiosAuth } from \"../config/axios\";\r\nimport { URL_AVATAR } from \"../constants\";\r\nimport Chart from 'react-apexcharts'\r\nimport { GetMedicals } from \"../redux/slices/MedicalSlice\";\r\nimport Viewer from \"react-viewer\";\r\nimport StatusCard from \"../components/status-card/StatusCard\";\r\n\r\nconst renderCusomerHead = (item, index) => <th key={index}>{item}</th>;\r\n\r\nconst renderCusomerBody = (item, index, history) => {\r\n    return (\r\n        <tr key={index}>\r\n            <td>{moment(item.date).format(\"DD/MM/YYYY\")}</td>\r\n            <td>{item.medicalName}</td>\r\n            <td>{item.fullName}</td>\r\n            <td>\r\n                <Tooltip title=\"Xem chi tiết\">\r\n                    <EyeOutlined\r\n                        onClick={() =>\r\n                            history.push(\r\n                                `/medical/get-medical-record/${item._id}`\r\n                            )\r\n                        }\r\n                    />\r\n                </Tooltip>\r\n            </td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nconst Dashboard = () => {\r\n    const [medicalRecent, setMedicalRecent] = useState([]);\r\n    const { user } = useSelector((state) => state.user);\r\n    const themeReducer = useSelector((state) => state.theme);\r\n    const { medicalStatistics, medicalTotal } = useSelector((state) => state.medical);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch()\r\n    const [viewImage, setViewImage] = useState([]);\r\n    const [isShowImage, setIsShowImage] = useState(false);\r\n\r\n    const { isSuccess : isSSMedical } = useSelector(state => state.medical)\r\n    const { isSuccess : isSSUser} = useSelector(state => state.user);\r\n\r\n    useEffect(() => {\r\n        if(isSSUser && user?.username && (!user.phone || !user.fullName)) {\r\n            history && history.push(\"/profile\")\r\n            return;\r\n        }\r\n    }, [isSSUser, isSSMedical, history]);\r\n\r\n    const chartOptions = {\r\n        series: [{\r\n            name: 'Số lần khám',\r\n            data: medicalStatistics\r\n        }],\r\n        options: {\r\n            color: ['#6ab04c', '#2980b9'],\r\n            chart: {\r\n                background: 'transparent'\r\n            },\r\n            dataLabels: {\r\n                enabled: false\r\n            },\r\n            stroke: {\r\n                curve: 'smooth'\r\n            },\r\n            xaxis: {\r\n                categories: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'T8', 'T9', 'T10', 'T11', 'T12']\r\n            },\r\n            legend: {\r\n                position: 'top'\r\n            },\r\n            grid: {\r\n                show: false\r\n            }\r\n        },\r\n    }\r\n\r\n    const showImage = () => {\r\n        setViewImage([{ src: `${URL_AVATAR}/${user?.avatar}` }])\r\n        setIsShowImage(true)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (user.role === 'admin') {\r\n            history.push(\"/management\");\r\n        }\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        dispatch(GetMedicals(user))\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        if(user?.username) {\r\n            axiosAuth({\r\n                url: \"/medical/recent\",\r\n                method: \"get\",\r\n            })\r\n                .then(async (result) => {\r\n                    const responseUsers = await axiosAuth({\r\n                        url: \"/user/get-users\",\r\n                        method: \"get\",\r\n                    })\r\n\r\n                    const listBsi = responseUsers.data.data.filter(({role})=> role === 'bs').map((item) => ({label: item?.fullName, value: item.username}))\r\n\r\n                    let listFilter = result.data.data\r\n                    if(user?.role == \"bs\") {\r\n                        listFilter = listFilter?.filter((item) => item?.users?.includes(user?.username));\r\n                    }\r\n\r\n                    listFilter = listFilter.map(item => {\r\n                        const listUser = item?.users?.split(',');\r\n\r\n                        const list = listUser?.map(user => {\r\n                            const result = listBsi?.find(bsi => bsi.value === user)\r\n                            return result ? result?.label : ''\r\n                        })\r\n                        return ({\r\n                            ...item,\r\n                            listUser: list,\r\n                        })\r\n                    })\r\n                    setMedicalRecent(listFilter.slice(0, 10));\r\n\r\n                })\r\n                .catch((e) => {\r\n                    console.log(e);\r\n                });\r\n        }\r\n\r\n    }, [user?.username, user?.role]);\r\n\r\n    return (\r\n        <div>\r\n            <Viewer\r\n                images={viewImage}\r\n                visible={isShowImage}\r\n                onClose={() => setIsShowImage(false)}\r\n                onMaskClick={() => setIsShowImage(false)}\r\n            />\r\n            <h2 className=\"page-header layout\">Tổng quan</h2>\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                    <div className=\"card\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-4\">\r\n                                <WrapperAvatar>\r\n                                    <AvatarProfile\r\n                                        src={`${URL_AVATAR}/${user?.avatar}`}\r\n                                        onClick={showImage}\r\n                                    >\r\n                                        {user?.fullName?.slice(0, 2).toUpperCase() ||\r\n                                            user?.username?.slice(0, 2).toUpperCase()}\r\n                                    </AvatarProfile>\r\n                                    <CButton\r\n                                        shape=\"circle\"\r\n                                        className=\"btn-edit-profile\"\r\n                                        onClick={() => history.push(\"/profile\")}\r\n                                    >\r\n                                        <EditOutlined />\r\n                                    </CButton>\r\n                                </WrapperAvatar>\r\n                            </div>\r\n                            <div className=\"col-8\">\r\n                                <Title>{user?.fullName || user?.username}</Title>\r\n                                <Space direction=\"vertical\">\r\n                                    <div className=\"col-12\">\r\n                                        <ContactsOutlined />\r\n                                        <TitleMin>Tuổi:</TitleMin>\r\n                                        <TextNoWrap>\r\n                                            {user?.birthday\r\n                                                ? Math.floor(\r\n                                                    moment().diff(\r\n                                                        user?.birthday,\r\n                                                        \"years\",\r\n                                                        true\r\n                                                    )\r\n                                                )\r\n                                                : \" Chưa cập nhật\"}\r\n                                        </TextNoWrap>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <CalendarOutlined />\r\n                                        <TitleMin>Ngày sinh:</TitleMin>\r\n                                        <TextNoWrap>\r\n                                            {user?.birthday\r\n                                                ? moment(user?.birthday).format(\r\n                                                    \"DD/MM/YYYY\"\r\n                                                )\r\n                                                : \" Chưa cập nhật\"}\r\n                                        </TextNoWrap>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <PhoneOutlined />\r\n                                        <TitleMin>Điện thoại:</TitleMin>\r\n                                        <TextNoWrap>\r\n                                            {user?.phone ? user?.phone : \"Chưa cập nhật\"}\r\n                                        </TextNoWrap>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <HomeOutlined />\r\n                                        <TitleMin> Địa chỉ:</TitleMin>\r\n                                        <TextNoWrap>\r\n                                            {user?.address ? user?.address : \" Chưa cập nhật\"}\r\n                                        </TextNoWrap>\r\n                                    </div>\r\n                                </Space>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    <div className=\"card full-height\">\r\n                        <TextPos className=\"layout\">Biểu đồ năm {moment().format(\"YYYY\")}</TextPos>\r\n                        <Chart\r\n                            options={themeReducer === 'theme-mode-dark' ? {\r\n                                ...chartOptions.options,\r\n                                theme: { mode: 'dark' }\r\n                            } : {\r\n                                ...chartOptions.options,\r\n                                theme: { mode: 'light' }\r\n                            }}\r\n                            series={chartOptions.series}\r\n                            type='line'\r\n                            height='95%'\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                {/*{*/}\r\n                {/*    medicalTotal?.map((item, index) => (*/}\r\n                {/*        <div className=\"col-3\" key={index}>*/}\r\n                {/*            <StatusCard*/}\r\n                {/*                icon={item.icon}*/}\r\n                {/*                count={item.count}*/}\r\n                {/*                title={item.title}*/}\r\n                {/*            />*/}\r\n                {/*        </div>*/}\r\n                {/*    ))*/}\r\n                {/*}*/}\r\n            </div>\r\n            <div className=\"card\">\r\n                <div className=\"card__header\">\r\n                    <h3 className=\"layout\">Bệnh nhân khám gần đây</h3>\r\n                </div>\r\n                {\r\n                    medicalRecent.length ? <><div className=\"card__body\">\r\n                        <Table\r\n                            headData={[\"Ngày khám\", \"Bệnh\", \"Bệnh nhân\", \"\"]}\r\n                            renderHead={(item, index) =>\r\n                                renderCusomerHead(item, index)\r\n                            }\r\n                            bodyData={medicalRecent}\r\n                            renderBody={(item, index) =>\r\n                                renderCusomerBody(item, index, history)\r\n                            }\r\n                        />\r\n\r\n                    </div>\r\n                        <div className=\"card__footer\">\r\n                            <Link to=\"/medicals\">Xem thêm</Link>\r\n                        </div></> : <Empty />\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst CButton = styled(Button)`\r\n    color: var(--txt-white);\r\n    background-color: var(--main-color);\r\n    box-shadow: var(--box-shadow);\r\n\r\n    :hover {\r\n     background-color: var(--second-color);\r\n     color: var(--txt-white);\r\n    }\r\n`\r\n\r\nconst AvatarProfile = styled(Avatar)`\r\n    width: 150px;\r\n    height: 150px;\r\n    box-shadow: 0px 1px 7px 0  var(--main-color);\r\n    font-size: 50px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst WrapperAvatar = styled.div`\r\n    position: relative;\r\n\r\n    .btn-edit-profile {\r\n        position: absolute;\r\n        left: 120px;\r\n        bottom: 20px;\r\n    }\r\n`;\r\n\r\nconst Title = styled.div`\r\n    font-size: 22px;\r\n    font-weight: bold;\r\n    letter-spacing: 2px;\r\n    transform: translateY(-15px);\r\n`;\r\n\r\nconst TextPos = styled.span`\r\n    position: absolute;\r\n    top: 15px;\r\n    left: 20px;\r\n`\r\n\r\nconst TitleMin = styled.div`    \r\n    margin-left: 10px;\r\n    display: inline-block;\r\n    min-width: 100px;\r\n`\r\n\r\nconst TextNoWrap = styled.div`\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n`\r\n\r\nexport default Dashboard;\r\n","import { Form, message, Modal, Switch } from \"antd\";\r\nimport { axiosAuth } from \"../../../config/axios\";\r\nimport { CButton, CInput } from \"../../Profile\";\r\n\r\nexport default function CreateMedicines({ visible, close, setTags, tags, medicines, setMedicines, onlyCreate = false, medicalResultID }) {\r\n    const handleAdMedicines = (values) => {\r\n        if (onlyCreate) {\r\n\r\n\r\n            axiosAuth({\r\n                url: \"/medical/add-medicine\",\r\n                method: \"post\",\r\n                data: {\r\n                    ...values,\r\n                    medicalResultID\r\n                },\r\n            })\r\n                .then((res) => {\r\n                    message.success(\"Tạo thành công\");\r\n                    console.log(res.data);\r\n                })\r\n                .catch((error) => {\r\n                    message.error(\"Có lỗi xảy ra\");\r\n                    console.log(error);\r\n                });\r\n        } else {\r\n            setTags([...tags, values.name]);\r\n            setMedicines([...medicines, values]);\r\n        }\r\n        close();\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            destroyOnClose\r\n            centered\r\n            title=\"Thêm thuốc\"\r\n            open={visible}\r\n            onCancel={close}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                labelCol={{ span: 8 }}\r\n                wrapperCol={{ span: 16 }}\r\n                autoComplete=\"off\"\r\n                onFinish={handleAdMedicines}\r\n                style={{ marginRight: \"50px\" }}\r\n                initialValues={{\r\n                    dosage: {\r\n                        morning: 1,\r\n                        afternoon: 1,\r\n                        night: 1,\r\n                    }\r\n                }}\r\n            >\r\n                <Form.Item label=\"Tên thuốc\" name=\"name\" rules={[{\r\n                    required: true,\r\n                    message: \"Vui lòng nhập tên thuốc\"\r\n                }]}>\r\n                    <CInput placeHolder=\"Tên thuốc\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"Số lượng\" name=\"quantity\" rules={[{\r\n                    required: true,\r\n                    message: \"Vui lòng nhập số lượng\"\r\n                }, {\r\n                    min: 0,\r\n                    message: \"Vui lòng nhập số lượng\"\r\n                }\r\n                ]}>\r\n                    <CInput type=\"number\" placeHolder=\"Số lượng\" />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    name={[\"dosage\", \"ifAfter\"]}\r\n                    label=\"Sau khi ăn\"\r\n                    valuePropName=\"checked\"\r\n                    initialValue={true}\r\n                >\r\n                    <Switch defaultChecked />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Liều uống sáng\"\r\n                    name={[\"dosage\", \"morning\"]}\r\n                >\r\n                    <CInput type=\"number\" placeHolder=\"Số liều buổi sáng\" min={0} />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Liều uống trưa\"\r\n                    name={[\"dosage\", \"afternoon\"]}\r\n                >\r\n                    <CInput type=\"number\" placeHolder=\"Số liều buổi trưa\" min={0} />\r\n                </Form.Item>\r\n                <Form.Item label=\"Liều uống tối\" name={[\"dosage\", \"night\"]}>\r\n                    <CInput type=\"number\" placeHolder=\"Số liều buổi tối\" min={0} />\r\n                </Form.Item>\r\n\r\n                <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n                    <CButton type=\"primary\" htmlType=\"submit\">\r\n                        Tạo thuốc\r\n                    </CButton>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { PlusOutlined } from \"@ant-design/icons\";\r\nimport { Form, message, Tag } from \"antd\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { axiosAuth } from \"../../../config/axios\";\r\nimport { CButton, CInput, DInput, FCenter } from \"../../Profile\";\r\nimport CreateMedicines from \"./CreateMedicines\";\r\nimport {isDuplicateAppointment} from \"../Update/UpdateAppointment\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {GetAppointment} from \"../../../redux/slices/AppointmentSlice\";\r\n\r\nexport const CreateRecordResult = ({\r\n    nextStep,\r\n    medicalRecordID,\r\n    setMedicalResultID,\r\n    isShowModal = false,\r\n}) => {\r\n    const [form] = Form.useForm();\r\n    const [medicineImage, setMedicineImage] = useState(null);\r\n    const [tags, setTags] = useState([]);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [medicines, setMedicines] = useState([]);\r\n    const { appointment } = useSelector(state => state.appointment)\r\n    const user = useSelector((state) => state.user.user);\r\n    const dispatch = useDispatch()\r\n\r\n    React.useEffect(() => {\r\n        const init = async () =>{\r\n            await dispatch(GetAppointment(user))\r\n        }\r\n        if(user?.username) {\r\n            init()\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user?.username, medicalRecordID])\r\n\r\n    const handleCreateResult = (values) => {\r\n\r\n        const newAppointmentTime = moment(values.appointment).format('HH:mm YYYY-MM-DD');\r\n        if (isDuplicateAppointment(appointment, newAppointmentTime)) {\r\n            console.log('Cannot add appointment. Duplicate time already exists.');\r\n            message.error('Đã có lịch hẹn, chọn khung giờ khác!!!')\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"medicalRecordID\", medicalRecordID);\r\n        let medicalJSONSTR = JSON.stringify(medicines);\r\n        medicalJSONSTR = medicalJSONSTR.substring(1, medicalJSONSTR.length - 1);\r\n\r\n        for (let [key, value] of Object.entries(values)) {\r\n            switch (key) {\r\n                case \"medicineImage\": {\r\n                    if (medicineImage) formData.append(\"medicineImage\", medicineImage, medicineImage?.name);\r\n                    break;\r\n                }\r\n                case \"appointment\": {\r\n                    formData.append(\"appointment\", value ?  value.format(\"HH:mm DD/MM/YYYY\") : '');\r\n                    break;\r\n                }\r\n                case \"date\": {\r\n                    formData.append(\"date\", value.format(\"DD/MM/YYYY\"));\r\n                    break;\r\n                }\r\n                default:\r\n                    formData.append(key, value);\r\n            }\r\n        }\r\n        formData.append(\"medicines\", medicalJSONSTR);\r\n\r\n        axiosAuth({\r\n            url: \"/medical/add-medical-result\",\r\n            method: \"post\",\r\n            data: formData,\r\n        })\r\n            .then((res) => {\r\n                message.success(\"Tạo thành công\");\r\n                setMedicalResultID(res.data.data?._id);\r\n                nextStep(res.data);\r\n            })\r\n            .catch((error) => {\r\n                message.error(\"Có lỗi xảy ra\");\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    const handleClose = (removedTag) => {\r\n        const newTags = tags.filter((tag) => tag !== removedTag);\r\n        setMedicines((prev) => prev.filter((e) => newTags.includes(e.name)));\r\n        setTags(newTags);\r\n    };\r\n    const showModal = () => {\r\n        setModalVisible(true);\r\n    };\r\n    const closeModal = (e) => {\r\n        setModalVisible(false);\r\n    };\r\n\r\n    const forMap = (tag) => {\r\n        const tagElem = (\r\n            <Tag\r\n                closable\r\n                onClose={(e) => {\r\n                    e.preventDefault();\r\n                    handleClose(tag);\r\n                }}\r\n                color=\"#55acee\"\r\n                siz\r\n            >\r\n                {tag}\r\n            </Tag>\r\n        );\r\n        return (\r\n            <span\r\n                key={tag}\r\n                style={{\r\n                    display: \"inline-block\",\r\n                }}\r\n            >\r\n                {tagElem}\r\n            </span>\r\n        );\r\n    };\r\n\r\n    const tagChild = tags.map(forMap);\r\n\r\n    function disabledDate(current) {\r\n        // Can not select days before today and today\r\n        return current && current.valueOf() < Date.now();\r\n    }\r\n\r\n    return (\r\n        <FCenter>\r\n            <Form\r\n                form={form}\r\n                name=\"basic\"\r\n                labelCol={{ span: 8 }}\r\n                wrapperCol={{ span: 16 }}\r\n                autoComplete=\"off\"\r\n                style={{ marginRight: \"50px\" }}\r\n                // onSubmitCapture={handleCreateResult}\r\n                onFinish={handleCreateResult}\r\n                initialValues={{\r\n                    date: moment(),\r\n                    // appointment: moment().add(1, \"d\"),\r\n                    doctor: \"\",\r\n                    phone: '',\r\n\r\n                }}\r\n            >\r\n                <Form.Item\r\n                    label=\"Ngày khám\"\r\n                    name=\"date\"\r\n                    rules={[\r\n                        { required: true, message: \"Vui lòng chọn ngày khám\" },\r\n                    ]}\r\n                >\r\n                    <DInput type=\"date\" name=\"date\" format=\"DD/MM/YYYY\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"Lịch hẹn\" name=\"appointment\">\r\n                    <DInput\r\n                        format=\"HH:mm DD/MM/YYYY\"\r\n                        showTime\r\n                        minuteStep={30}\r\n                        placeholder=\"Chọn lịch hẹn\"\r\n                        disabledDate={(current) => {\r\n                            return moment().add(0, 'days') >= current\r\n                        }}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Ảnh đơn thuốc\"\r\n                    name=\"medicineImage\"\r\n                >\r\n                    <CInput\r\n                        accept=\"image/png, image/gif, image/jpeg\"\r\n                        type=\"file\"\r\n                        name=\"medicineImage\"\r\n                        onChange={(e) => setMedicineImage(e.target.files[0])}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item label=\"Thuốc\">\r\n                    <Inline>\r\n                        {tagChild}\r\n                        <Tag\r\n                            onClick={showModal}\r\n                            className=\"site-tag-plus\"\r\n                            color=\"#55acee\"\r\n                        >\r\n                            <PlusOutlined /> Tạo thuốc\r\n                        </Tag>\r\n                    </Inline>\r\n                </Form.Item>\r\n                <Form.Item label=\"Kết quả khám\" name=\"finalResult\" rules={[{ required: true, message: 'Vui lòng nhập kết quả khám' }]}>\r\n                    <CInput\r\n                        name=\"finalResult\"\r\n                        placeholder=\"Kết quả khám\"\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n                    <CButton type=\"primary\" htmlType=\"submit\">\r\n                        Tạo bệnh án\r\n                    </CButton>\r\n                </Form.Item>\r\n            </Form>\r\n            <CreateMedicines\r\n                visible={modalVisible}\r\n                close={closeModal}\r\n                {...{ setTags, tags, medicines, setMedicines }}\r\n            />\r\n        </FCenter>\r\n    );\r\n};\r\n\r\nconst Inline = styled.div`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 10px;\r\n`;\r\n","import { Form, message } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { CButton, CInput, FCenter } from \"../../Profile\";\r\n\r\nimport { axiosAuth } from \"../../../config/axios\";\r\n\r\nexport const CreateMedicalExamination = ({ medicalResultID, nextStep, isModal }) => {\r\n    const [form] = Form.useForm();\r\n    const [image, setImage] = useState(null);\r\n\r\n    const handleCreateResult = (values) => {\r\n        const formData = new FormData();\r\n\r\n\r\n        for (let [key, value] of Object.entries(values)) {\r\n\r\n            switch (key) {\r\n                case \"image\": {\r\n                    formData.append(\"image\", image, image?.name);\r\n                    break;\r\n                }\r\n                default:\r\n                    formData.append(key, value);\r\n            }\r\n        }\r\n        formData.append(\"medicalResultID\", medicalResultID);\r\n\r\n        axiosAuth({\r\n            url: \"/medical/add-medical-examination-content\",\r\n            method: \"post\",\r\n            data: formData,\r\n        })\r\n            .then((res) => {\r\n                message.success(\"Tạo thành công\");\r\n                // history.push(\"/medicals\");\r\n                if (isModal) {\r\n                    nextStep()\r\n                } else {\r\n                    window.location.href = \"/medicals\"\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                message.error(\"Có lỗi xảy ra\");\r\n            });\r\n    };\r\n\r\n    return (\r\n        <FCenter>\r\n            <Form\r\n                form={form}\r\n                name=\"basic\"\r\n                labelCol={{ span: 8 }}\r\n                wrapperCol={{ span: 16 }}\r\n                // onFinishFailed={handleCreateResult}\r\n                autoComplete=\"off\"\r\n                style={{ marginRight: \"50px\" }}\r\n                // onSubmitCapture={handleCreateResult}\r\n                onFinish={handleCreateResult}\r\n            >\r\n                <Form.Item label=\"Tên khám\" name=\"name\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                    <CInput  placeHolder=\"Tên lần khám khác\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"Kết quả khám\" name=\"result\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                    <CInput  placeHolder=\"Kết quả khám\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"Hình ảnh\" name=\"image\" rules={[{ required: true, message: 'Vui chọn hình ảnh' }]}>\r\n                    <CInput\r\n                        accept=\"image/png, image/gif, image/jpeg\"\r\n                        type=\"file\"\r\n                        onChange={(e) => setImage(e.target.files[0])}\r\n                    />\r\n                </Form.Item>\r\n\r\n                <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n                    <CButton type=\"primary\" htmlType=\"submit\">\r\n                        Lưu\r\n                    </CButton>\r\n                </Form.Item>\r\n            </Form>\r\n        </FCenter>\r\n    );\r\n};\r\n","import {Form, message, Modal, Skeleton, Tooltip, Upload, Row, Button} from \"antd\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport Table from \"../components/table/Table\";\r\nimport { axiosAuth } from \"../config/axios\";\r\nimport {\r\n    DeleteOutlined,\r\n    EditOutlined,\r\n    EyeOutlined,\r\n    PhoneOutlined,\r\n    PlusCircleOutlined, PrinterOutlined,\r\n    ReloadOutlined\r\n} from \"@ant-design/icons\";\r\nimport { Space } from \"antd\";\r\nimport { CButton, CInput, DInput } from \"./Profile\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Navigation, Pagination, Mousewheel, Keyboard } from \"swiper\";\r\nimport styled from \"styled-components\";\r\nimport Viewer from \"react-viewer\";\r\nimport { CreateRecordResult } from \"./Medical/Create/CreateMedicalResult\";\r\nimport { getLinkImage } from \"../constants\";\r\nimport { CreateMedicalExamination } from \"./Medical/Create/CreateMedicalExamination\";\r\nimport CreateMedicines from \"./Medical/Create/CreateMedicines\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {GetMedicals} from \"../redux/slices/MedicalSlice\";\r\n\r\nconst beforeUpload = (file) => {\r\n    const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n    if (!isJpgOrPng) {\r\n        message.error(\"You can only upload JPG/PNG file!\");\r\n        return true;\r\n    }\r\n\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n        message.error(\"Image must smaller than 2MB!\");\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nconst renderCusomerHead = (item, index) => (\r\n    <th key={index} style={{ textAlign: \"center\" }}>\r\n        {item}\r\n    </th>\r\n);\r\n\r\nconst MedicalRecord = () => {\r\n    const { id } = useParams();\r\n    const [medicalRecord, setMedicalRecord] = useState(null);\r\n    const [medicalRecordResult, setMedicalRecordResult] = useState([]);\r\n    const [dataModal, setDataModal] = useState();\r\n    const [isOpenImage, setIsOpenImage] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [listImage, setListImage] = useState([]);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [isVisibleCreate, setIsVisibleCreate] = useState(false);\r\n    const [isVisibleCreateExam, setIsVisibleCreateExam] = useState(false);\r\n    const [isVisibleCreateMedicines, setIsVisibleCreateMedicines] =\r\n        useState(false);\r\n    const [resultUpdate, setResultUpdate] = useState(null);\r\n    const [resultNew, setResultNew] = useState(null);\r\n    const [fileList, setFileList] = useState([]);\r\n    const { isDoctor } = useSelector(state => state.user)\r\n    const [isModalConfirm, setIsModalConfirm] = useState(false);\r\n\r\n    const renderCustomerBody = (\r\n        item,\r\n        index,\r\n        showModal,\r\n        handleSetListImage,\r\n        history,\r\n        openModal,\r\n        openShowCreateExam,\r\n        openShowCreateMedicines\r\n    ) => {\r\n        return (\r\n            <tr key={item?._id}>\r\n                <th>{item.stt}</th>\r\n                <td style={{ textAlign: \"center\" }}>{moment(item.date).format(\"DD/MM/YYYY\")}</td>\r\n                <td style={{ textAlign: \"center\" }}>{ item.appointment ? moment(item.appointment).format(\"HH:mm DD/MM/YYYY\") : 'Không'}</td>\r\n                <td width={200} style={{ textAlign: \"center\" }}>\r\n                    {\r\n                        item?.medicineImage ? <Space>\r\n                                <img\r\n                                    width={80}\r\n                                    height={100}\r\n                                    style={{ objectFit: \"cover\" }}\r\n                                    src={getLinkImage(item.medicineImage)}\r\n                                    alt=\"thuoc\"\r\n                                    onClick={() =>\r\n                                        handleSetListImage([\r\n                                            { src: getLinkImage(item.medicineImage) },\r\n                                        ])\r\n                                    }\r\n                                />\r\n                                <PrinterOutlined style={{fontSize: 20}} onClick={() => window.open(getLinkImage(item.medicineImage))} />\r\n                            </Space>\r\n                        : \"Trống\"\r\n                    }\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }}>{item.finalResult}</td>\r\n                <td width={200} style={{ textAlign: \"center\" }}>\r\n                    <Space size=\"middle\">\r\n                        <Tooltip title=\"Số mục khám\">\r\n                            ({item.results.length})\r\n                        </Tooltip>\r\n                        {item.results.length ? (\r\n                            <Tooltip title=\"Xem chi tiết\">\r\n                                <EyeOutlined\r\n                                    onClick={() =>\r\n                                        showModal({ data: item.results, type: 0 })\r\n                                    }\r\n                                    width={100}\r\n                                />\r\n                            </Tooltip>\r\n                        ) : (\r\n                            <></>\r\n                        )}\r\n                        <Tooltip title=\"Thêm\">\r\n                            {\r\n                                index == 0  && isDoctor ? <PlusCircleOutlined\r\n                                    onClick={() => openShowCreateExam(item)}\r\n                                /> : <></>\r\n                            }\r\n\r\n                        </Tooltip>\r\n                    </Space>\r\n                </td>\r\n                <td width={200} style={{ textAlign: \"center\" }}>\r\n                    <Space size=\"middle\">\r\n                        {\r\n                            item.medicines.length > 0 && <Tooltip title=\"Số toa\">({item.medicines.length})</Tooltip>\r\n                        }\r\n                        {item.medicines ? (\r\n                            <Tooltip title=\"Xem chi tiết\">\r\n                                <EyeOutlined\r\n                                    onClick={() =>\r\n                                        showModal({ data: item.medicines, type: 1 })\r\n                                    }\r\n                                    width={100}\r\n                                />\r\n                            </Tooltip>\r\n                        ) : (\r\n                            <></>\r\n                        )}\r\n                        {\r\n                            index == 0  && isDoctor ? <Tooltip title=\"Thêm\">\r\n                                <PlusCircleOutlined\r\n                                    onClick={() => openShowCreateMedicines(item)}\r\n                                />\r\n                            </Tooltip> : <></>\r\n                        }\r\n\r\n                    </Space>\r\n                </td>\r\n                <td width={50} style={{ textAlign: \"center\" }}>\r\n                    {\r\n                        isDoctor ?  <Tooltip title=\"Xoá\">\r\n                            <DeleteOutlined onClick={() => openModal(item, \"DELETE\")} />\r\n                        </Tooltip> : <></>\r\n                    }\r\n\r\n                </td>\r\n            </tr>\r\n        );\r\n    };\r\n\r\n\r\n    const onChange = ({ fileList: newFileList }) => {\r\n        setFileList(newFileList);\r\n    };\r\n\r\n    const closeModalCreate = () => {\r\n        setIsVisibleCreate(false);\r\n    };\r\n\r\n    const openModal = (item) => {\r\n        setModalVisible(true);\r\n        setResultUpdate(item);\r\n        setFileList([\r\n            {\r\n                uid: \"-1\",\r\n                name: \"image.png\",\r\n                status: \"done\",\r\n                url: getLinkImage(item.medicineImage),\r\n            },\r\n        ]);\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false);\r\n        setResultUpdate(null);\r\n    };\r\n\r\n    const showModal = (data) => {\r\n        setIsModalOpen(true);\r\n        setDataModal(data);\r\n    };\r\n\r\n    const handleOk = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const handleCancelImage = () => {\r\n        setIsOpenImage(false);\r\n    };\r\n\r\n    const handleUpdate = (values) => {\r\n        const formData = new FormData();\r\n        formData.append('_id', resultUpdate._id)\r\n        for (let [key, value] of Object.entries(values)) {\r\n            if (!value) continue;\r\n            switch (key) {\r\n                case \"medicineImage\": {\r\n                    if (fileList.length >= 1 && fileList[0]?.uid !== \"-1\") formData.append(\"medicineImage\", fileList[0]?.originFileObj, fileList[0]?.originFileObj?.name);\r\n                    break;\r\n                }\r\n                case \"appointment\": {\r\n                    formData.append(\"appointment\", value.format('DD/MM/YYYY'));\r\n                    break;\r\n                }\r\n                case \"date\": {\r\n                    formData.append(\"date\", value.format('DD/MM/YYYY'));\r\n                    break;\r\n                }\r\n                default:\r\n                    formData.append(key, value);\r\n            }\r\n        }\r\n\r\n        axiosAuth({\r\n            url: \"/medical/update-medical-result\",\r\n            method: \"post\",\r\n            data: formData,\r\n        }).then(() => {\r\n            // window.location.reload();\r\n            message.success('Cập nhật thành công')\r\n            setModalVisible(false)\r\n        })\r\n            .then(() => {\r\n                // window.location.reload();\r\n                message.success(\"Cập nhật thành công\");\r\n                setModalVisible(false);\r\n            })\r\n            .catch((error) => console.log(error));\r\n    };\r\n    const openShowCreateExam = (data) => {\r\n        setIsVisibleCreateExam(true);\r\n        setResultNew({ data });\r\n    };\r\n\r\n    const openShowCreateMedicines = (data) => {\r\n        setIsVisibleCreateMedicines(true);\r\n        setResultNew({ data });\r\n    };\r\n    const init = () => {\r\n        axiosAuth({\r\n            url: `/medical/get-medical-record/?_id=${id}`,\r\n            method: \"get\",\r\n        })\r\n            .then(async (result) => {\r\n                setMedicalRecord(result.data.data);\r\n                const { data } = await axiosAuth({\r\n                    url: `/medical/get-medical-result?medicalRecordID=${id}`,\r\n                    method: \"get\",\r\n                });\r\n                data.data = data.data.filter(item => item?.status !== \"0\")\r\n                data.data = data.data.sort(\r\n                    (a, b) =>\r\n                        new moment(b.date).format(\"YYYYMMDD\") -\r\n                        new moment(a.date).format(\"YYYYMMDD\")\r\n                );\r\n\r\n                setMedicalRecordResult(data.data);\r\n                setIsLoading(false);\r\n            })\r\n            .catch((e) => {\r\n                console.log(e);\r\n                setIsLoading(false);\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!medicalRecordResult.length) {\r\n            setIsLoading(true);\r\n        }\r\n\r\n        init();\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [id, isVisibleCreate, isVisibleCreateExam, modalVisible, isVisibleCreateMedicines]);\r\n\r\n    const handleSetListImage = (list) => {\r\n        setListImage(list);\r\n        setIsOpenImage(true);\r\n    };\r\n\r\n    const nextStepCreateRecord = (result) => {\r\n        setIsVisibleCreate(false)\r\n        // setIsVisibleCreateExam(true)\r\n        setResultNew(result)\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        axiosAuth({\r\n            url: \"/medical/update-status-medical-result\",\r\n            method: \"post\",\r\n            data: {\r\n                medicalResultID: resultUpdate._id,\r\n                status: '0',\r\n            },\r\n        }).then(() => {\r\n            // window.location.reload();\r\n            message.success('Xoá thành công')\r\n        })\r\n\r\n        hideModal()\r\n    }\r\n\r\n\r\n    const hideModal = () => {\r\n        setModalVisible(false);\r\n        setIsModalConfirm(null);\r\n        init();\r\n    };\r\n    return (\r\n        <div>\r\n            <Modal\r\n                title=\"Xác nhận\"\r\n                open={modalVisible}\r\n                onOk={handleDelete}\r\n                onCancel={hideModal}\r\n                okText=\"Xác nhận\"\r\n                cancelText=\"Huỷ\"\r\n            >\r\n                Xác nhận <strong style={{ color: 'red' }}>xoá</strong> kết quả khám\r\n                <br />\r\n                <small>(Không thể thu hồi)</small>\r\n            </Modal>\r\n            <Viewer\r\n                images={listImage}\r\n                visible={isOpenImage}\r\n                onClose={handleCancelImage}\r\n                onMaskClick={handleCancelImage}\r\n            />\r\n            <div className=\"row\" id=\"modalMount\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card__header\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-12\">\r\n                                    <Title>Chi tiết bệnh án</Title>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card__body\">\r\n                            {isLoading ? <Skeleton active /> : medicalRecord && (\r\n                                <Space direction=\"vertical\">\r\n\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-8 inline\">\r\n                                            <Title>Tên bệnh nhân:</Title>{\" \"}\r\n                                            <strong>\r\n                                                {medicalRecord.fullName}\r\n                                            </strong>\r\n                                        </div>\r\n                                        <div className=\"col-4\">\r\n                                            <Title>Ngày tạo:</Title>{\" \"}\r\n                                            <strong>\r\n                                                {moment(\r\n                                                    medicalRecord.createAt\r\n                                                ).format(\"DD/MM/YYYY\")}\r\n                                            </strong>\r\n                                        </div>\r\n                                        <div className=\"col-8 inline\">\r\n                                            <Title>Tên bệnh:</Title>{\" \"}\r\n                                            <strong>\r\n                                                {medicalRecord.medicalName}\r\n                                            </strong>\r\n                                        </div>\r\n                                        <div className=\"col-4\">\r\n                                            <Title>Cập nhật ngày:</Title>{\" \"}\r\n                                            <strong>\r\n                                                {moment(\r\n                                                    medicalRecord.updateAt\r\n                                                ).format(\"DD/MM/YYYY\")}\r\n                                            </strong>\r\n                                        </div>\r\n                                        <div className=\"col-8 inline\">\r\n                                            <Title>Số điện thoại:</Title>{\" \"}\r\n                                            <strong>\r\n                                                {medicalRecord.phone}\r\n                                            </strong>\r\n                                        </div>\r\n                                        <div className=\"col-4\">\r\n                                            <Title> Số lần khám:</Title>{\" \"}\r\n                                            <strong>\r\n                                                {\r\n                                                    medicalRecordResult\r\n                                                        ?.length\r\n                                                }\r\n                                            </strong>\r\n                                        </div>\r\n                                        <div className=\"col-8 inline\">\r\n                                            <Title>Địa chỉ:</Title>{\" \"}\r\n                                            <strong>\r\n                                                {medicalRecord.address}\r\n                                            </strong>\r\n                                        </div>\r\n                                    </div>\r\n                                </Space>\r\n                            )}\r\n                            <div style={{ height: \"50px\", textAlign: \"end\" }}>\r\n                                {isLoading ? (\r\n                                    <Skeleton.Button />\r\n                                ) : (\r\n\r\n                                    isDoctor && <CButton\r\n                                        width=\"150px\"\r\n                                        onClick={() => setIsVisibleCreate(true)}\r\n                                    >\r\n                                        Thêm mới\r\n                                    </CButton>\r\n                                )}\r\n                            </div>\r\n                            {isLoading ? (\r\n                                <Skeleton />\r\n                            ) : (\r\n                                <Table\r\n                                    limit=\"10\"\r\n                                    headData={[\r\n                                        \"#\",\r\n                                        \"Ngày khám\",\r\n                                        \"Ngày hẹn\",\r\n                                        \"Hình ảnh\",\r\n                                        \"Chuẩn đoán\",\r\n                                        \"Khám khác\",\r\n                                        \"Toa thuốc\",\r\n                                        \"\",\r\n                                    ]}\r\n                                    renderHead={(item, index) =>\r\n                                        renderCusomerHead(item, index)\r\n                                    }\r\n                                    bodyData={medicalRecordResult}\r\n                                    renderBody={(item, index) =>\r\n                                        renderCustomerBody(\r\n                                            item,\r\n                                            index,\r\n                                            showModal,\r\n                                            handleSetListImage,\r\n                                            history,\r\n                                            openModal,\r\n                                            openShowCreateExam,\r\n                                            openShowCreateMedicines\r\n                                        )\r\n                                    }\r\n                                />\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* <div className=\"card__footer\">\r\n                            <PaginationAntd onChange={onChangePagination} total={medicalRecordResultPage.length} />\r\n                        </div> */}\r\n                    </div>\r\n                </div>\r\n                <Modal\r\n                    getContainer=\"#modalMount\"\r\n                    zIndex={100}\r\n                    centered\r\n                    title={\r\n                        dataModal?.type === 0\r\n                            ? \"Chi tiết liên quan\"\r\n                            : \"Chi tiết toa thuốc\"\r\n                    }\r\n                    open={isModalOpen}\r\n                    onOk={handleOk}\r\n                    onCancel={handleCancel}\r\n                    footer={[]}\r\n                >\r\n                    <Swiper\r\n                        pagination={{\r\n                            type: \"fraction\",\r\n                        }}\r\n                        modules={[Navigation, Pagination, Mousewheel, Keyboard]}\r\n                        navigation={true}\r\n                        className=\"mySwiper\"\r\n                        allowTouchMove={false}\r\n                    >\r\n                        {dataModal?.type === 0\r\n                            ? dataModal?.data?.map((item) => (\r\n                                <SwiperSlide>\r\n                                    <h2\r\n                                        style={{\r\n                                            height: \"60px\",\r\n                                            textAlign: \"center\",\r\n                                        }}\r\n                                    >\r\n                                        {item.name}\r\n                                    </h2>\r\n                                    <img\r\n                                        width=\"100%\"\r\n                                        height={300}\r\n                                        src={getLinkImage(item.image)}\r\n                                        alt=\"benh\"\r\n                                        onClick={() =>\r\n                                            handleSetListImage(\r\n                                                dataModal?.data?.map((x) => {\r\n                                                    return {\r\n                                                        src: getLinkImage(\r\n                                                            x.image\r\n                                                        ),\r\n                                                    };\r\n                                                })\r\n                                            )\r\n                                        }\r\n                                    />\r\n                                    <h3\r\n                                        style={{\r\n                                            height: \"100px\",\r\n                                            marginTop: \"20px\",\r\n                                        }}\r\n                                    >\r\n                                        Kết quả: {item.result}\r\n                                    </h3>\r\n                                </SwiperSlide>\r\n                            ))\r\n                            : dataModal?.data?.map((item) => (\r\n                                <SwiperSlide>\r\n                                    <h2\r\n                                        style={{\r\n                                            height: \"60px\",\r\n                                            textAlign: \"center\",\r\n                                        }}\r\n                                    >\r\n                                        {item.name}\r\n                                    </h2>\r\n                                    <div\r\n                                        style={{\r\n                                            padding: \"0 50px 20px  70px\",\r\n                                        }}\r\n                                    >\r\n                                        <h3>\r\n\r\n                                            <div style={{ width: '100px', display: 'inline-block' }}>\r\n                                                Số lượng:\r\n                                            </div>\r\n                                            <strong>{item.quantity}\r\n                                            </strong>\r\n                                        </h3>\r\n                                        <p>\r\n                                            <div style={{ width: '100px', display: 'inline-block' }}>\r\n                                                Cách uống:\r\n                                            </div>\r\n                                            <strong>\r\n                                                {item.isAfter\r\n                                                    ? \"Sau khi ăn\"\r\n                                                    : \"Trước khi ăn\"}\r\n                                            </strong>\r\n                                        </p>\r\n                                        <p>\r\n                                            <div style={{ width: '100px', display: 'inline-block' }}>\r\n                                                Sáng:\r\n                                            </div>\r\n                                            <strong>\r\n                                                {item.morning || 0}\r\n                                            </strong>\r\n                                        </p>\r\n                                        <p>\r\n                                            <div style={{ width: '100px', display: 'inline-block' }}>\r\n                                                Trưa:\r\n                                            </div>\r\n                                            <strong>\r\n                                                {item.afternoon || 0}\r\n                                            </strong>\r\n                                        </p>\r\n                                        <p>\r\n                                            <div style={{ width: '100px', display: 'inline-block' }}>\r\n                                                Tối:\r\n                                            </div>\r\n                                            <strong>\r\n                                                {item.night || 0}\r\n                                            </strong>\r\n                                        </p>\r\n                                    </div>\r\n                                </SwiperSlide>\r\n                            ))}\r\n                    </Swiper>\r\n                </Modal>\r\n                <Modal\r\n                    destroyOnClose\r\n                    centered\r\n                    title=\"Cập nhật khám bệnh\"\r\n                    // open={modalVisible}\r\n                    onCancel={closeModal}\r\n                    footer={null}\r\n                >\r\n                    <Form\r\n                        labelCol={{ span: 8 }}\r\n                        wrapperCol={{ span: 16 }}\r\n                        // onFinishFailed={onFinishFailed}\r\n                        autoComplete=\"off\"\r\n                        style={{ marginRight: \"50px\" }}\r\n                        initialValues={{\r\n                            ...resultUpdate,\r\n                            date: moment(resultUpdate?.date),\r\n                            appointment: resultUpdate?.appointment ? moment(resultUpdate?.appointment) : \"\",\r\n                        }}\r\n                        // onSubmitCapture={handleUpdate}\r\n                        onFinish={handleUpdate}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Ngày khám\"\r\n                            name=\"date\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: \"Vui lòng nhập thông tin\",\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <DInput format=\"DD/MM/YYYY\" />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"Lịch hẹn\"\r\n                            name=\"appointment\"\r\n                        >\r\n                            <DInput\r\n                                format=\"DD/MM/YYYY\"\r\n\r\n                                placeholder=\"Chọn lịch hẹn\"\r\n                                disabledDate={(current) => {\r\n                                    return moment().add(0, 'days') >= current\r\n                                }}\r\n                            />\r\n                        </Form.Item>\r\n                        {/* <Form.Item label=\"Tên bệnh nhân\" name=\"fullName\">\r\n                            <CInput\r\n                                name=\"fullName\"\r\n                                placeholder=\"Tên bệnh nhân\"\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"SĐT liên hệ\" name=\"phone\" rules={[{\r\n                            message: \"Vui lòng nhập đúng Số điện thoại\",\r\n                            pattern: /(84|0[3|5|7|8|9])+([0-9]{8})\\b/g\r\n                        }]}>\r\n                            <CInput\r\n                                name=\"phone\"\r\n                                placeholder=\"Số điện thoại\"\r\n                            />\r\n                        </Form.Item> */}\r\n                        {/* <Form.Item\r\n                            label=\"Xem\"\r\n                        >\r\n                            <FlexCenter>\r\n                                <Image src={getLinkImage(resultUpdate?.medicineImage)} width={200} />\r\n                            </FlexCenter>\r\n                        </Form.Item> */}\r\n                        <Form.Item\r\n                            label=\"Hình ảnh\"\r\n                            name=\"medicineImage\"\r\n                        >\r\n                            {/* <CInput type=\"image\" /> */}\r\n                            <CUpload\r\n                                accept=\"image/png, image/gif, image/jpeg\"\r\n                                listType=\"picture-card\"\r\n                                fileList={fileList}\r\n                                onChange={onChange}\r\n                                beforeUpload={beforeUpload}\r\n                            >\r\n                                {fileList.length < 1 && \"+ Upload\"}\r\n                            </CUpload>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"Kết quả khám\"\r\n                            name=\"finalResult\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: \"Vui lòng nhập thông tin\",\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <CInput />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n                            <CButton type=\"primary\" htmlType=\"submit\">\r\n                                Cập nhật\r\n                            </CButton>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n                <Modal destroyOnClose centered title=\"Thêm lần khám bệnh\" open={isVisibleCreate} onCancel={closeModalCreate} footer={null}>\r\n                    <CreateRecordResult isShowModal={isVisibleCreate} nextStep={nextStepCreateRecord} medicalRecordID={id} setMedicalResultID={() => 0} />\r\n                </Modal>\r\n                <Modal\r\n                    destroyOnClose\r\n                    centered\r\n                    title=\"Thêm lần khám\"\r\n                    open={isVisibleCreateExam}\r\n                    onCancel={() => setIsVisibleCreateExam(false)}\r\n                    footer={null}\r\n                >\r\n                    <CreateMedicalExamination\r\n                        isModal={true}\r\n                        nextStep={() => setIsVisibleCreateExam(false)}\r\n                        medicalResultID={resultNew?.data._id}\r\n                    />\r\n                </Modal>\r\n                <CreateMedicines onlyCreate visible={isVisibleCreateMedicines} close={() => setIsVisibleCreateMedicines(false)} medicalResultID={resultNew?.data._id} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MedicalRecord;\r\n\r\nconst Title = styled.div`\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    display: inline;\r\n`;\r\n\r\n\r\nconst CUpload = styled(Upload)`\r\n    .ant-tooltip {\r\n        display: none;\r\n    }\r\n`;\r\n","import { axiosAuth, axiosNotAuth } from \"../../config/axios\";\r\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nexport const SignInUser = createAsyncThunk(\r\n    \"user/signin\",\r\n    async (user, thunkAPI) => {\r\n        try {\r\n            const { data } = await axiosNotAuth.post(`/user/login`, user);\r\n\r\n            return data;\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue({\r\n                status: 401,\r\n                message: \"Tài khoản hoặc mật khẩu không đúng\",\r\n            });\r\n        }\r\n    }\r\n);\r\n\r\nexport const SignUpUser = createAsyncThunk(\r\n    \"user/signup\",\r\n    async (user, thunkAPI) => {\r\n        try {\r\n            const { data } = await axiosNotAuth.post(`/user/register`, user);\r\n            return data;\r\n        } catch (error) {\r\n            console.log(error);\r\n            const mes =\r\n                error.response.data.msg === \"user is existed\"\r\n                    ? \"Tài khoản tồn tại\"\r\n                    : \"Đăng ký thất bại\";\r\n            return thunkAPI.rejectWithValue({\r\n                status: 401,\r\n                message: mes,\r\n            });\r\n        }\r\n    }\r\n);\r\n\r\nexport const GetUserInfo = createAsyncThunk(\r\n    \"user/get-info\",\r\n    async (thunkAPI) => {\r\n        try {\r\n            const { data } = await axiosAuth.get(\"/user/get-user-info\");\r\n            return data;\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue({\r\n                message: \"Có lỗi xảy ra\",\r\n            });\r\n        }\r\n    }\r\n);\r\n\r\nconst initialState = {\r\n    user: {\r\n        avatar: \"\",\r\n        display_name: \"\",\r\n        role: 'yt',\r\n    },\r\n    isDoctor: false,\r\n    access_token: localStorage.getItem(\"access_token\") || \"\",\r\n    refresh_token: localStorage.getItem(\"refresh_token\") || \"\",\r\n    message: null,\r\n    isLoading: false,\r\n    isSuccess: localStorage.getItem(\"access_token\") !== null,\r\n    isError: false,\r\n};\r\n\r\nconst UserSlice = createSlice({\r\n    name: \"user\",\r\n    initialState,\r\n    reducers: {\r\n        logout: (state) => {\r\n            state.user = null;\r\n            state.isSuccess = false;\r\n            localStorage.removeItem('access_token')\r\n            localStorage.removeItem('refresh_token')\r\n            if ('caches' in window) {\r\n                caches.keys().then((names) => {\r\n                    // Delete all the cache files\r\n                    names.forEach(name => {\r\n                        caches.delete(name);\r\n                    })\r\n                });\r\n\r\n                // Makes sure the page reloads. Changes are only visible after you refresh.\r\n                window.location.reload(true);\r\n            }\r\n        },\r\n        updateUser: (state, { payload }) => {\r\n            state.user = { ...state.user, payload };\r\n        },\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(SignInUser.fulfilled, (state, { payload }) => {\r\n            state.user = payload.data.user;\r\n            state.isDoctor = payload.data.user.role === 'bs' || payload.data.user.role === 'admin'\r\n            state.access_token = payload.data.access_token;\r\n            state.refresh_token = payload.data.refresh_token;\r\n            state.isLoading = false;\r\n            state.isSuccess = true;\r\n            state.isError = false;\r\n            state.message = \"Đăng nhập thành công\";\r\n            localStorage.setItem(\"access_token\", payload.data.access_token);\r\n            localStorage.setItem(\"refresh_token\", payload.data.refresh_token);\r\n        });\r\n        builder.addCase(SignInUser.pending, (state, { payload }) => {\r\n            state.isLoading = true;\r\n            state.isSuccess = false;\r\n            state.isError = false;\r\n        });\r\n        builder.addCase(SignInUser.rejected, (state, { payload }) => {\r\n            state.isLoading = false;\r\n            state.isSuccess = false;\r\n            state.isError = true;\r\n            state.message = \"reject\";\r\n        });\r\n        builder.addCase(SignUpUser.fulfilled, (state, { payload }) => {\r\n            state.user = payload.user;\r\n            state.isDoctor = payload.user.role === 'bs'\r\n            state.isLoading = false;\r\n            state.isSuccess = true;\r\n            state.isError = false;\r\n            state.message = \"Đăng ký thành công\";\r\n        });\r\n        builder.addCase(SignUpUser.pending, (state, { payload }) => {\r\n            state.isLoading = true;\r\n            state.isSuccess = false;\r\n            state.isError = false;\r\n        });\r\n        builder.addCase(SignUpUser.rejected, (state, { payload }) => {\r\n            state.isLoading = false;\r\n            state.isSuccess = false;\r\n            state.isError = true;\r\n            state.message = payload.message;\r\n        });\r\n        builder.addCase(GetUserInfo.pending, (state, { payload }) => {\r\n            state.isLoading = true;\r\n        });\r\n\r\n        builder.addCase(GetUserInfo.fulfilled, (state, { payload }) => {\r\n            state.isLoading = false\r\n            state.isSuccess = true\r\n            state.user = payload.data\r\n            state.isDoctor = payload.data?.role === 'bs'\r\n        })\r\n\r\n        builder.addCase(GetUserInfo.rejected, (state, { payload }) => {\r\n            state.isLoading = false\r\n            state.isSuccess = false\r\n        })\r\n    },\r\n});\r\n\r\nexport default UserSlice.reducer;\r\nexport const { logout, updateUser } = UserSlice.actions;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Form, Input, message } from \"antd\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logout, SignInUser } from \"../redux/slices/UserSlice\";\r\nimport { CButton, CInput } from \"./Profile\";\r\n\r\nexport const Logout = () => {\r\n    const dispatch = useDispatch()\r\n    dispatch(logout())\r\n    return <></>\r\n}\r\n\r\n\r\nexport default function Login() {\r\n    const dispatch = useDispatch();\r\n    const {\r\n        isLoading,\r\n        isSuccess,\r\n        isError,\r\n        message: messages,\r\n        user\r\n    } = useSelector((state) => state.user);\r\n    const history = useHistory();\r\n\r\n    const onFinish = (values) => {\r\n        console.log(\"Success:\", values);\r\n\r\n        dispatch(SignInUser(values));\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log(\"Failed:\", errorInfo);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isSuccess) {\r\n            if (user.role === 'admin') {\r\n                history.push(\"/management\");\r\n            } else {\r\n                history.push(\"/\");\r\n            }\r\n            message.success(messages);\r\n        }\r\n        if (isError) {\r\n            message.error(\"Sai tài khoản hoặc mật khẩu\");\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [isLoading, isSuccess, isError, message]);\r\n\r\n    return (\r\n        <WrapperLogin>\r\n            <FormLogin>\r\n                <Header>\r\n                    <img\r\n                        width=\"120\"\r\n                        height=\"120\"\r\n                        src=\"https://cdn-icons-png.flaticon.com/512/4200/4200528.png\"\r\n                        alt=\"avt\"\r\n                    />\r\n                    <h2>Đăng Nhập</h2>\r\n                </Header>\r\n                <Content>\r\n                    <Form\r\n                        name=\"basic\"\r\n                        initialValues={{ remember: true }}\r\n                        onFinish={onFinish}\r\n                        onFinishFailed={onFinishFailed}\r\n                        autoComplete=\"off\"\r\n                        layout=\"vertical\"\r\n                        style={{ width: \"80%\" }}\r\n                        size=\"large\"\r\n                    >\r\n                        <Form.Item\r\n                            label=\"Username\"\r\n                            name=\"username\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: \"Vui lòng nhập username\",\r\n                                },\r\n                                {\r\n                                    min: 5,\r\n                                    message: 'Username ít nhất 5 kí tự'\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <CInput />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"Password\"\r\n                            name=\"password\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: \"Vui lòng nhập mật khẩu!\",\r\n                                },\r\n                                {\r\n                                    min: 3,\r\n                                    message: 'Mật khẩu ít nhất 6 kí tự'\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <PInput />\r\n                        </Form.Item>\r\n                        {/*\r\n            <Form.Item name=\"remember\" valuePropName=\"checked\" wrapperCol={{ offset: 8, span: 16 }}>\r\n              <Checkbox>Remember me</Checkbox>\r\n            </Form.Item> */}\r\n\r\n                        <Form.Item>\r\n                            <CButton\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                style={{ width: \"100%\" }}\r\n                                loading={isLoading}\r\n                            >\r\n                                Đăng Nhập\r\n                            </CButton>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Content>\r\n                {/* <FooterLogin>\r\n                    <span>Hoặc đăng ký</span>\r\n                    <Link to=\"/register\" className=\"main-color\"> tại đây</Link>\r\n                </FooterLogin> */}\r\n            </FormLogin>\r\n        </WrapperLogin>\r\n    );\r\n}\r\n\r\nconst WrapperLogin = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: #f1f1f1;\r\n`;\r\n\r\nconst FormLogin = styled.div`\r\n    width: 500px;\r\n    height: 600px;\r\n    background-color: #ffffff;\r\n    border: 1px solid #aaaaaa;\r\n    box-shadow: 0px 3px 13px 0 #adadadb9;\r\n    border-radius: 6px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n    height: 200px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    h2 {\r\n        color: #1890ff;\r\n        font-size: 30px;\r\n    }\r\n`;\r\nconst Content = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n\r\n    .ant-form-large .ant-form-item-label > label {\r\n        font-size: 18px;\r\n        color: #1890ff;\r\n    }\r\n`;\r\n\r\nconst FooterLogin = styled.div`\r\n    height: 100px;\r\n    line-height: 100px;\r\n    font-size: 16px;\r\n    text-align: center;\r\n`;\r\n\r\nexport const PInput = styled(Input.Password)`\r\n    height: ${(p) => p.height || \"100%\"};\r\n    width: ${(p) => p.width || \"100%\"};\r\n    padding: 10px 10px 10px 20px;\r\n    font-size: 1rem;\r\n    border-radius: var(--border-radius);\r\n    color: var(--txt-color);\r\n    background-color: var(--main-bg);\r\n    box-shadow: var(--box-shadow);\r\n    border: 2px solid transparent;\r\n`;\r\n","import { Form, message, Modal } from \"antd\";\r\nimport moment from \"moment\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport { axiosAuth } from \"../../../config/axios\";\r\nimport { GetMedicals } from \"../../../redux/slices/MedicalSlice\";\r\nimport { useState } from 'react';\r\nimport { CButton, CInput, DInput } from \"../../Profile\";\r\n\r\nexport default function UpdateMedical({ visible, closeModal, oldData }) {\r\n    const dispatch = useDispatch()\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const { user } = useSelector((state) => state.user);\r\n\r\n    const handleUpdate = (values) => {\r\n        setIsLoading(true)\r\n        const data = {\r\n            _id: oldData._id,\r\n            ...values,\r\n            birthday: values?.birthday ? moment(values?.birthday).format(\"DD/MM/YYYY\") : '',\r\n            createAt: moment(values?.createAt).format(\"DD/MM/YYYY\")\r\n        };\r\n\r\n        axiosAuth({\r\n            url: \"/medical/update-medical-record\",\r\n            method: \"post\",\r\n            data,\r\n        })\r\n            .then((response) => {\r\n                // window.location.reload();\r\n                dispatch(GetMedicals(user))\r\n                closeModal()\r\n                message.success(\"Cập nhật thành công\")\r\n            })\r\n            .catch((error) => console.log(error));\r\n        setIsLoading(false)\r\n    };\r\n\r\n    function disabledDate(current) {\r\n        // Can not select days before today and today\r\n        return current && current.valueOf() > moment(oldData.birthday);\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            destroyOnClose\r\n            centered\r\n            title=\"Cập nhật bệnh án\"\r\n            open={visible}\r\n            onCancel={closeModal}\r\n            footer={null}\r\n        >\r\n            <Form\r\n                labelCol={{ span: 8 }}\r\n                wrapperCol={{ span: 16 }}\r\n                // onFinishFailed={onFinishFailed}\r\n                autoComplete=\"off\"\r\n                onFinish={handleUpdate}\r\n                style={{ marginRight: \"50px\" }}\r\n                initialValues={{\r\n                    ...oldData,\r\n                    createAt: moment(oldData?.createAt),\r\n                    birthday: oldData?.birthday ? moment(oldData?.birthday) : '',\r\n                }}\r\n            // onSubmitCapture={handleUpdate}\r\n            >\r\n                <Form.Item label=\"Tên bệnh nhân\" name=\"fullName\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                    <CInput name=\"fullName\" placeholder=\"Tên bệnh nhân\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"Tên bệnh\" name=\"medicalName\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                    <CInput name=\"medicalName\" placeholder=\"Tên bệnh\" format=\"DD/MM/YYYY\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"Ngày sinh\" name=\"birthday\">\r\n                    <DInput name=\"birthday\" placeholder=\"Ngày sinh\" format=\"DD/MM/YYYY\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"Số điện thoại\" name=\"phone\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                    <CInput name=\"phone\" placeholder=\"Số điện thoại\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"Địa chỉ\" name=\"address\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                    <CInput name=\"address\" placeholder=\"Địa chỉ\" />\r\n                </Form.Item>\r\n                <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n                    <CButton type=\"primary\" htmlType=\"submit\" loading={isLoading}>\r\n                        Cập nhật\r\n                    </CButton>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n","import { DeleteOutlined, EditOutlined, EyeOutlined, ReloadOutlined, SearchOutlined } from \"@ant-design/icons\";\r\nimport { Button, DatePicker, Empty, message, Modal, Skeleton, Tooltip, Typography } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Table from \"../components/table/Table\";\r\nimport { axiosAuth } from \"../config/axios\";\r\nimport { filterData, FilterMedicals, GetMedicals, handleChangePage } from \"../redux/slices/MedicalSlice\";\r\nimport UpdateMedical from \"./Medical/Update/UpdateMedical\";\r\nimport { CButton, CInput } from \"./Profile\";\r\n\r\nconst renderCustomerHead = (item, index) => <th key={index}>{item}</th>;\r\n\r\nconst renderCustomerBodySkeleton = () => {\r\n    return <tr>\r\n        <th> <Skeleton.Input active size=\"small\" block /></th>\r\n        <th> <Skeleton.Input active size=\"small\" block /></th>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n    </tr>\r\n}\r\n\r\nconst { Text } = Typography\r\n\r\n\r\n\r\n\r\nconst Medicals = () => {\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [isModalConfirm, setIsModalConfirm] = useState(false);\r\n    const [recordUpdate, setRecordUpdate] = useState(null);\r\n    const [startDate, setStartDate] = useState(\"\");\r\n    const [endDate, setEndDate] = useState(\"\");\r\n    const [fullText, setfullText] = useState(\"\");\r\n    const history = useHistory();\r\n    const dispatch = useDispatch()\r\n    const medicalRecent = useSelector(state => state.medical.medicalFilter)\r\n    const { isLoading, isSuccess } = useSelector(state => state.medical)\r\n    let { search } = useLocation();\r\n    const { isDoctor, user } = useSelector(state => state.user)\r\n    const [loading, setLoading] = useState(false);\r\n    const { isSuccess : isSSMedical } = useSelector(state => state.medical)\r\n    const { isSuccess : isSSUser} = useSelector(state => state.user);\r\n\r\n    useEffect(() => {\r\n        if(isSSUser && user?.username && (!user.phone || !user.fullName)) {\r\n            history && history.push(\"/profile\")\r\n            return;\r\n        }\r\n    }, [isSSUser, isSSMedical, history]);\r\n    const renderCustomerBody = (item, index, history, openModal) => {\r\n        return (\r\n            <tr key={index}>\r\n                <th>{item?.stt}</th>\r\n                <td>{moment(item?.createAt).format(\"DD/MM/YYYY\")}</td>\r\n                <td>{moment(item?.updateAt).format(\"DD/MM/YYYY\")}</td>\r\n                <td width={200}>{item?.fullName}</td>\r\n                <td width={200}>{item?.medicalName}</td>\r\n                <td width={300}>{item?.listUser?.join(\", \")}</td>\r\n                <td width={100}>{item?.phone}</td>\r\n                <td width={150}>\r\n                    <Text style={{ width: 150 }} ellipsis={{ tooltip: item?.address }} className=\"txtcolor\">\r\n                        {item?.address}\r\n                    </Text>\r\n                </td>\r\n                {/*<td width={100} style={{ textAlign: \"center\" }}>*/}\r\n                {/*    {item?.medicalResults?.length}*/}\r\n                {/*</td>*/}\r\n                <td align=\"center\">\r\n                    <Tooltip title=\"Xem chi tiết\">\r\n                        <EyeOutlined\r\n                            onClick={() =>\r\n                                history.push(\r\n                                    `/medical/get-medical-record/${item?._id}`\r\n                                )\r\n                            }\r\n                        />\r\n                    </Tooltip>\r\n                </td>\r\n                {isDoctor ? <>\r\n                    {/*<td>*/}\r\n                    {/*    <Tooltip title=\"Chỉnh sửa\">*/}\r\n                    {/*        <EditOutlined onClick={() => openModal(item, \"UPDATE\")} />*/}\r\n                    {/*    </Tooltip>*/}\r\n                    {/*</td>*/}\r\n                    <td>\r\n                        <Tooltip title=\"Xoá\">\r\n                            <DeleteOutlined onClick={() => openModal(item, \"DELETE\")} />\r\n                        </Tooltip>\r\n                    </td>\r\n                </>\r\n                    : <>\r\n                        <td></td>\r\n                        <td></td>\r\n                    </>\r\n                }\r\n            </tr >\r\n        );\r\n    };\r\n\r\n    const query = new URLSearchParams(search);\r\n    const paramField = query.get('q');\r\n\r\n    const handleRollback = () => {\r\n        axiosAuth({\r\n            url: \"/medical/update-status-medical-record\",\r\n            method: \"post\",\r\n            data: {\r\n                medicalRecordID: recordUpdate._id,\r\n                status: '1',\r\n            },\r\n        }).then(() => {\r\n            // window.location.reload();\r\n            message.success(\"Thu hồi thành công\")\r\n             dispatch(GetMedicals(user))\r\n        })\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        axiosAuth({\r\n            url: \"/medical/update-status-medical-record\",\r\n            method: \"post\",\r\n            data: {\r\n                medicalRecordID: recordUpdate._id,\r\n                status: '0',\r\n            },\r\n        }).then(() => {\r\n            // window.location.reload();\r\n            message.success(<div>\r\n                <span>Xoá thành công</span>{\" \"}\r\n                <Button type=\"ghost\" icon={<ReloadOutlined />} onClick={handleRollback}><span className=\"layout\">thu hồi</span></Button>\r\n            </div>)\r\n             dispatch(GetMedicals(user))\r\n        })\r\n\r\n        hideModal()\r\n    }\r\n\r\n    const openModal = (item, action) => {\r\n        setRecordUpdate(item);\r\n\r\n        switch (action) {\r\n            case \"UPDATE\": {\r\n                setModalVisible(true);\r\n                break;\r\n            }\r\n            case \"DELETE\": {\r\n                setIsModalConfirm(true);\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false);\r\n        setRecordUpdate(null);\r\n    };\r\n\r\n\r\n    const hideModal = () => {\r\n        setModalVisible(false);\r\n        setIsModalConfirm(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(GetMedicals(user))\r\n        // if (paramField) {\r\n        //     console.log('====================================');\r\n        //     console.log(paramField);\r\n        //     console.log('====================================');\r\n        //     dispatch(FilterMedicals({ fullText: paramField }))\r\n        // } else {\r\n        // }\r\n    }, [user]);\r\n\r\n    // useEffect(() => {\r\n    //     onChangePagination(1)\r\n    // }, [medicalRecent]);\r\n\r\n    const handleChangeStartDate = (date) => {\r\n        if (date) {\r\n            setStartDate(date)\r\n        } else {\r\n            setStartDate(null);\r\n        }\r\n    };\r\n\r\n    const handleChangeEndDate = (date) => {\r\n        if (date) {\r\n            setEndDate(date)\r\n        } else {\r\n            setEndDate(null);\r\n        }\r\n    };\r\n\r\n    const handleClearData = () => {\r\n        dispatch(GetMedicals(user))\r\n        setStartDate(\"\")\r\n        setEndDate(\"\")\r\n        setfullText(\"\")\r\n    }\r\n\r\n    const handleFilter = () => {\r\n        if(fullText.toLocaleLowerCase() == \"\") {\r\n             dispatch(GetMedicals(user))\r\n            return;\r\n        }\r\n        const data = {\r\n            text_search: fullText.toLocaleLowerCase(),\r\n        };\r\n        setLoading(true)\r\n        dispatch(filterData(data))\r\n        setTimeout(() => {\r\n            setLoading(false)\r\n        }, [200])\r\n    };\r\n\r\n    const medicalRecentSkeleton = [1, 2, 3, 4, 5, 1, 2, 3, 4, 5,]\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"page-header layout\">Bệnh án gần đây</h2>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card__header\">\r\n                            <div className=\"row\">\r\n                                <div\r\n                                    className=\"col-2\"\r\n                                >\r\n                                    <CButton\r\n                                        width=\"110px\"\r\n                                        onClick={handleClearData}\r\n                                    >\r\n                                        <ReloadOutlined /> Làm mới\r\n                                    </CButton>\r\n                                </div>\r\n                                <div\r\n                                    className=\"col-10\"\r\n                                    style={{ textAlign: \"end\" }}\r\n                                >\r\n                                    <WrapperRight>\r\n                                        {/* <DRangePicker\r\n                                            value={startDate ? moment(startDate) : \"\"}\r\n                                            format=\"DD/MM/YYYY\"\r\n                                            onChange={handleChangeStartDate}\r\n                                            placeholder=\"Bắt đầu\"\r\n                                        />\r\n                                        <DRangePicker\r\n                                            value={endDate ? moment(endDate) : \"\"}\r\n                                            format=\"DD/MM/YYYY\"\r\n                                            onChange={handleChangeEndDate}\r\n                                            placeholder=\"Kết thúc\"\r\n                                        /> */}\r\n                                        <WrapperInput>\r\n                                            <CInput\r\n                                                style={{ paddingRight: \"45px\" }}\r\n                                                height=\"40px\"\r\n                                                placeholder=\"Tìm tên bệnh nhân, sđt\"\r\n                                                value={fullText}\r\n                                                onChange={(e) =>\r\n                                                    setfullText(e.target.value)\r\n                                                }\r\n                                                onPressEnter={handleFilter}\r\n                                            />\r\n                                            <BoxSearch>\r\n                                                <SearchOutlined onClick={handleFilter} />\r\n                                            </BoxSearch>\r\n                                        </WrapperInput>\r\n                                        <CButton\r\n                                            width=\"150px\"\r\n                                            onClick={handleFilter}\r\n                                        >\r\n                                            Lọc\r\n                                        </CButton>\r\n                                        {\r\n                                            isDoctor && <CButton\r\n                                                width=\"150px\"\r\n                                                onClick={() =>\r\n                                                    history.push(\"/medicals/create\")\r\n                                                }\r\n                                            >\r\n                                                Thêm mới\r\n                                            </CButton>\r\n                                        }\r\n                                    </WrapperRight>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card__body\">\r\n                            <Table\r\n                                headData={[\r\n                                    \"#\",\r\n                                    \"Ngày vào\",\r\n                                    \"Cập nhật\",\r\n                                    \"Bệnh nhân\",\r\n                                    \"Bệnh\",\r\n                                    \"Bác sĩ\",\r\n                                    \"SĐT\",\r\n                                    \"Đ/C\",\r\n                                    \"\",\r\n                                    \"\",\r\n                                ]}\r\n                                renderHead={(item, index) =>\r\n                                    renderCustomerHead(item, index)\r\n                                }\r\n                                limit=\"10\"\r\n                                bodyData={(isLoading || loading) ? medicalRecentSkeleton : medicalRecent}\r\n                                renderBody={(item, index) =>\r\n                                    (isLoading || loading) ? renderCustomerBodySkeleton() : renderCustomerBody(\r\n                                        item,\r\n                                        index,\r\n                                        history,\r\n                                        openModal\r\n                                    )\r\n                                }\r\n                            />\r\n                            {\r\n                                medicalRecent.length === 0 ? <Empty /> : <></>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <UpdateMedical visible={modalVisible} closeModal={closeModal} oldData={recordUpdate} />\r\n            <Modal\r\n                title=\"Xác nhận\"\r\n                open={isModalConfirm}\r\n                onOk={handleDelete}\r\n                onCancel={hideModal}\r\n                okText=\"Xác nhận\"\r\n                cancelText=\"Huỷ\"\r\n            >\r\n                Xác nhận <strong style={{ color: 'red' }}>xoá</strong> bệnh án: <strong>{recordUpdate?.medicalName}</strong>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Medicals;\r\n\r\nconst WrapperRight = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    gap: 15px;\r\n`;\r\n\r\nconst DRangePicker = styled(DatePicker)`\r\n    height: 40px;\r\n    width: 150px;\r\n    padding: 10px 10px 10px 20px;\r\n    font-size: 1rem;\r\n    box-sizing: border-box;\r\n    border-radius: var(--border-radius);\r\n    color: var(--txt-color);\r\n    background-color: var(--main-bg);\r\n    box-shadow: var(--box-shadow);\r\n    border: 2px solid transparent;\r\n\r\n    &:hover {\r\n        border: 2px solid var(--main-color);;\r\n    }\r\n\r\n    .ant-picker-input {\r\n        input {\r\n            border: none;\r\n            color: var(--txt-color);\r\n        }\r\n    }\r\n    .ant-picker-suffix {\r\n        color: var(--txt-color);\r\n    }\r\n\r\n    .ant-picker-status-error.ant-picker,\r\n    .ant-picker-status-error.ant-picker:not([disabled]):hover {\r\n        background-color: var(--main-bg) !important;\r\n    }\r\n`;\r\n\r\nconst WrapperInput = styled.div`\r\n    position: relative;\r\n`;\r\n\r\nconst BoxSearch = styled.div`\r\n    position: absolute;\r\n    right: 1px;\r\n    top: 1px;\r\n    width: 38px;\r\n    height: 38px;\r\n    border-radius: 14px;\r\n    background-color: var(--main-color);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 18px;\r\n    cursor: pointer;\r\n    color: white;\r\n    \r\n`;\r\n","import { Form, message } from \"antd\";\r\nimport moment from \"moment\";\r\nimport React from \"react\";\r\n// import { useHistory } from \"react-router-dom\";\r\nimport { axiosAuth } from \"../../../config/axios\";\r\nimport { CInput, DInput, FCenter, CButton } from \"../../Profile\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nexport const CreateRecord = ({ nextStep, setMedicalRecord, initialValues }) => {\r\n    const [form] = Form.useForm();\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n    // const history = useHistory();\r\n    const { username } = useSelector(state => state.user.user)\r\n\r\n    const handleSubmit = (values) => {\r\n        setIsLoading(true)\r\n        axiosAuth({\r\n            url: \"/medical/add-medical-record\",\r\n            method: \"post\",\r\n            data: {\r\n                ...values,\r\n                auth: values?.auth ? values?.auth : 'Bản thân',\r\n                users: username\r\n            },\r\n        })\r\n            .then((res) => {\r\n                message.success(\"Tạo thành công\");\r\n                nextStep();\r\n                setMedicalRecord(res.data.data);\r\n            })\r\n            .catch((error) => {\r\n                message.error(\"Có lỗi xảy ra\");\r\n                console.log(error);\r\n            });\r\n        setIsLoading(false)\r\n    };\r\n\r\n\r\n    const handleUpdate = (values) => {\r\n        setIsLoading(true)\r\n        const data = {\r\n            ...initialValues, ...values, birthday: moment(initialValues?.birthday).format(\"DD/MM/YYYY\"),\r\n        };\r\n\r\n        axiosAuth({\r\n            url: \"/medical/update-medical-record\",\r\n            method: \"post\",\r\n            data,\r\n        })\r\n            .then((res) => {\r\n                // window.location.reload();\r\n                message.success(\"Cập nhật thành công\")\r\n                nextStep();\r\n                setMedicalRecord(res.data.data);\r\n            })\r\n            .catch((error) => console.log(error));\r\n        setIsLoading(false)\r\n    };\r\n\r\n    function disabledDate(current) {\r\n        // Can not select days before today and today\r\n        return current && current.valueOf() > moment(initialValues.createAt);\r\n    }\r\n\r\n    console.log(initialValues)\r\n\r\n    return (\r\n        <FCenter>\r\n            {\r\n                initialValues ?\r\n                    <Form\r\n                        labelCol={{ span: 8 }}\r\n                        wrapperCol={{ span: 16 }}\r\n                        // onFinishFailed={onFinishFailed}\r\n                        autoComplete=\"off\"\r\n                        onFinish={handleUpdate}\r\n                        style={{ marginRight: \"50px\" }}\r\n                        initialValues={{\r\n                            ...initialValues,\r\n                            birthday: moment(initialValues?.birthday),\r\n                            updateAt: moment(initialValues?.updateAt),\r\n                            createAt: moment(initialValues?.createAt),\r\n                        }}\r\n                        disabled\r\n                    // onSubmitCapture={handleUpdate}\r\n                    >\r\n                        <Form.Item label=\"Tên bệnh nhân\" name=\"fullName\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                            <CInput name=\"fullName\" placeholder=\"Tên bệnh nhân\" />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"Tên bệnh\" name=\"medicalName\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                            <CInput name=\"medicalName\" placeholder=\"Tên bệnh\" />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"Ngày sinh\" name=\"birthday\" >\r\n                            <DInput name=\"birthday\" placeholder=\"Ngày sinh\" />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"Số điện thoại\" name=\"phone\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }, {\r\n                            message: \"Vui lòng nhập đúng Số điện thoại\",\r\n                            pattern: /(84|0[3|5|7|8|9])+([0-9]{8})\\b/g\r\n                        }]}>\r\n                            <CInput name=\"phone\" placeholder=\"Số điện thoại\" />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"Địa chỉ\" name=\"address\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                            <CInput name=\"address\" placeholder=\"Địa chỉ\" />\r\n                        </Form.Item>\r\n                    </Form>\r\n                    :\r\n                    <Form\r\n                        form={form}\r\n                        name=\"basic\"\r\n                        labelCol={{ span: 8 }}\r\n                        wrapperCol={{ span: 16 }}\r\n                        autoComplete=\"off\"\r\n                        style={{ marginRight: \"50px\" }}\r\n                        onFinish={handleSubmit}\r\n                        initialValues={{\r\n                            startDate: moment(),\r\n                        }}\r\n                    >\r\n                        <Form.Item label=\"Tên bệnh nhân\" name=\"fullName\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                            <CInput name=\"fullName\" placeholder=\"Tên bệnh nhân\" />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"Tên bệnh\" name=\"medicalName\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                            <CInput name=\"medicalName\" placeholder=\"Tên bệnh\" />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"Ngày sinh\" name=\"birthday\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                            <DInput name=\"birthday\" placeholder=\"Ngày sinh\" format=\"DD/MM/YYYY\" />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"Số điện thoại\" name=\"phone\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                            <CInput name=\"phone\" placeholder=\"Số điện thoại\" />\r\n                        </Form.Item>\r\n                        <Form.Item label=\"Địa chỉ\" name=\"address\" rules={[{ required: true, message: 'Vui lòng nhập thông tin' }]}>\r\n                            <CInput name=\"address\" placeholder=\"Địa chỉ\" />\r\n                        </Form.Item>\r\n                        <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n                            <CButton CButton type=\"primary\" htmlType=\"submit\" loading={isLoading}>\r\n                                Tạo bệnh án</CButton>\r\n                        </Form.Item>\r\n                    </Form>\r\n            }\r\n        </FCenter >\r\n    );\r\n};\r\n","import { Button, message, Modal, Steps } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { CreateRecord } from \"./CreateMedicalRecord\";\r\nimport { CreateRecordResult } from \"./CreateMedicalResult\";\r\nimport { CreateMedicalExamination } from \"./CreateMedicalExamination\";\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {GetAppointment} from \"../../../redux/slices/AppointmentSlice\";\r\nconst { Step } = Steps;\r\n\r\nconst CreateMedial = () => {\r\n    const [current, setCurrent] = useState(0);\r\n    const [medicalRecord, setMedicalRecord] = useState(null);\r\n    const [medicalResultID, setMedicalResultID] = useState(null);\r\n    const history = useHistory()\r\n    const [visible, setVisible] = useState(false)\r\n\r\n\r\n    const closeModal = () => {\r\n        setVisible(false)\r\n    }\r\n\r\n    const handleSkip = () => {\r\n        history.push(\"/medicals\")\r\n    }\r\n\r\n    const next = (res) => {\r\n        if (current === 1) {\r\n            if (res?.data?._id) {\r\n                setCurrent(2);\r\n            } else {\r\n                message.error('Vui lòng nhập thông tin')\r\n            }\r\n        }\r\n        if (current === 0) {\r\n            setCurrent(current + 1);\r\n        }\r\n    };\r\n\r\n    const prev = () => {\r\n        setCurrent(current - 1);\r\n    };\r\n\r\n    const steps = [\r\n        {\r\n            title: \"Tổng quát\",\r\n            content: (\r\n                <CreateRecord\r\n                    nextStep={next}\r\n                    setMedicalRecord={setMedicalRecord}\r\n                    initialValues={medicalRecord}\r\n                />\r\n            ),\r\n        },\r\n        {\r\n            title: \"Chi tiết\",\r\n            content: (\r\n                <CreateRecordResult\r\n                    nextStep={next}\r\n                    medicalRecordID={medicalRecord?._id}\r\n                    setMedicalResultID={setMedicalResultID}\r\n/>\r\n            ),\r\n        },\r\n        {\r\n            title: \"Hoàn thành\",\r\n            content: (\r\n                <CreateMedicalExamination medicalResultID={medicalResultID} />\r\n            ),\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-12\">\r\n                <div className=\"card\" style={{ padding: \"30px 100px\" }}>\r\n                    <div className=\"card__body\">\r\n                        <Steps current={current}>\r\n                            {steps.map((item) => (\r\n                                <Step\r\n                                    key={item.title}\r\n                                    title={\r\n                                        <h5 className=\"layout\">{item.title}</h5>\r\n                                    }\r\n                                />\r\n                            ))}\r\n                        </Steps>\r\n                        <WrapperContent className=\"steps-content\">\r\n                            {steps[current].content}\r\n                        </WrapperContent>\r\n                        <WrapperFooter>\r\n                            {/*{current > 0 && (*/}\r\n                            {/*    <Button*/}\r\n                            {/*        style={{*/}\r\n                            {/*            margin: \"0 8px\",*/}\r\n                            {/*        }}*/}\r\n                            {/*        onClick={() => prev()}*/}\r\n                            {/*    >*/}\r\n                            {/*        Quay lại*/}\r\n                            {/*    </Button>*/}\r\n                            {/*)}*/}\r\n                            {/* {current === steps.length - 1 && (\r\n                                <Button type=\"primary\" onClick={() => message.success('Processing complete!')}>\r\n                                    Done\r\n                                </Button>\r\n                            )}    */}\r\n                            {current < steps.length - 1 &&\r\n                                medicalRecord?._id && (\r\n                                    <Button\r\n                                        type=\"primary\"\r\n                                        onClick={() => next()}\r\n                                    >\r\n                                        Bước tiếp theo\r\n                                    </Button>\r\n                                )}{\" \"}\r\n                            {\r\n                                current >= 1 && <Button\r\n                                    type=\"dashed\"\r\n                                    style={{\r\n                                        marginLeft: '15px',\r\n                                    }}\r\n                                    onClick={() => setVisible(true)}\r\n                                >\r\n                                    Bỏ qua tất cả\r\n                                </Button>\r\n                            }\r\n                        </WrapperFooter>\r\n                    </div>\r\n                </div>\r\n                <Modal\r\n                    destroyOnClose\r\n                    centered\r\n                    title=\"Xác nhận\"\r\n                    open={visible}\r\n                    onCancel={closeModal}\r\n                    onOk={handleSkip}\r\n                    okText=\"Xác nhận\"\r\n                    cancelText=\"Huỷ\"\r\n\r\n                >\r\n                    Xác nhận bỏ qua\r\n                </Modal>\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default CreateMedial;\r\n\r\nconst WrapperContent = styled.div`\r\n    margin-top: 30px;\r\n    padding: 20px;\r\n`;\r\n\r\nconst WrapperFooter = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n`;\r\n","import { Modal, Skeleton, Tooltip } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport Table from \"../components/table/Table\";\r\nimport { axiosAuth } from \"../config/axios\";\r\nimport { EyeOutlined } from \"@ant-design/icons\";\r\nimport { Space } from \"antd\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Navigation, Pagination, Mousewheel, Keyboard } from \"swiper\";\r\nimport styled from \"styled-components\";\r\nimport Viewer from \"react-viewer\";\r\nimport { getLinkImage } from \"../constants\";\r\n\r\n\r\nconst renderCusomerHead = (item, index) => (\r\n    <th key={index} style={{ textAlign: \"center\" }}>\r\n        {item}\r\n    </th>\r\n);\r\n\r\nconst renderCustomerBody = (\r\n    item,\r\n    index,\r\n    showModal,\r\n    handleSetListImage,\r\n    history,\r\n    openModal,\r\n    openShowCreateExam,\r\n    openShowCreateMedicines\r\n) => {\r\n    return (\r\n        <tr key={index}>\r\n            <th>{item.stt}</th>\r\n            <td>{moment(item.date).format(\"DD/MM/YYYY\")}</td>\r\n            <td width={200} style={{ textAlign: \"center\" }}>\r\n                <img\r\n                    width={80}\r\n                    height={100}\r\n                    style={{ objectFit: \"cover\" }}\r\n                    src={getLinkImage(item.medicineImage)}\r\n                    alt=\"thuoc\"\r\n                    onClick={() =>\r\n                        handleSetListImage([{ src: getLinkImage(item.medicineImage) }])\r\n                    }\r\n                />\r\n            </td>\r\n            <td style={{ textAlign: \"center\" }}>{item.finalResult}</td>\r\n            <td width={200} style={{ textAlign: \"center\" }}>\r\n                <Space size=\"middle\">\r\n                    <Tooltip title=\"Số mục khám\">\r\n                        ({item.results.length})\r\n                    </Tooltip>\r\n                    {item.results.length ? <Tooltip title=\"Xem chi tiết\">\r\n                        <EyeOutlined\r\n                            onClick={() => showModal({ data: item.results, type: 0 })}\r\n                            width={100}\r\n                        />\r\n                    </Tooltip> : <></>\r\n                    }\r\n                </Space>\r\n            </td>\r\n            <td width={200} style={{ textAlign: \"center\" }}>\r\n                <Space size=\"middle\">\r\n                    <Tooltip title=\"Số toa\">\r\n                        ({item.medicines.length})\r\n                    </Tooltip>\r\n                    {\r\n                        item.medicines.length > 0 ? <Tooltip title=\"Xem chi tiết\">\r\n                            <EyeOutlined\r\n                                onClick={() => showModal({ data: item.medicines, type: 1 })}\r\n                                width={100}\r\n                            />\r\n\r\n                        </Tooltip> : <></>\r\n                    }\r\n                </Space>\r\n            </td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nconst MedicalDeletedRecord = () => {\r\n    const { id } = useParams();\r\n    const [medicalRecord, setMedicalRecord] = useState(null);\r\n    const [medicalRecordResult, setMedicalRecordResult] = useState([]);\r\n    const [dataModal, setDataModal] = useState();\r\n    const [isOpenImage, setIsOpenImage] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [listImage, setListImage] = useState([]);\r\n    const [modalVisible, setModalVisible] = useState(false)\r\n    const [isVisibleCreateExam, setIsVisibleCreateExam] = useState(false)\r\n\r\n    const openModal = (item) => {\r\n        setModalVisible(true);\r\n    };\r\n\r\n\r\n    const showModal = (data) => {\r\n        setIsModalOpen(true);\r\n        setDataModal(data);\r\n    };\r\n\r\n    const handleOk = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const handleCancelImage = () => {\r\n        setIsOpenImage(false);\r\n    };\r\n\r\n    const openShowCreateExam = (data) => {\r\n        setIsVisibleCreateExam(true)\r\n    }\r\n\r\n    const openShowCreateMedicines = (data) => {\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!medicalRecordResult.length) {\r\n            setIsLoading(true)\r\n        }\r\n        axiosAuth({\r\n            url: `/medical/get-medical-record/?_id=${id}`,\r\n            method: \"get\",\r\n        })\r\n            .then(async (result) => {\r\n                setMedicalRecord(result.data.data);\r\n                const { data } = await axiosAuth({\r\n                    url: `/medical/get-medical-result?medicalRecordID=${id}`,\r\n                    method: \"get\",\r\n                });\r\n\r\n                data.data = data.data.sort((a, b) => new moment(b.date).format('YYYYMMDD') - new moment(a.date).format('YYYYMMDD'))\r\n\r\n                setMedicalRecordResult(data.data);\r\n                setIsLoading(false)\r\n            })\r\n            .catch((e) => {\r\n                console.log(e);\r\n                setIsLoading(false)\r\n            });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [id, isVisibleCreateExam, modalVisible]);\r\n\r\n    const handleSetListImage = (list) => {\r\n        setListImage(list);\r\n        setIsOpenImage(true);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Viewer\r\n                images={listImage}\r\n                visible={isOpenImage}\r\n                onClose={handleCancelImage}\r\n                onMaskClick={handleCancelImage}\r\n            />\r\n            <div className=\"row\" id=\"modalMount\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card__header\">\r\n                            <TitleDel>Bệnh án đã xoá</TitleDel>\r\n                            <div className=\"col-12\">\r\n                                <Title>Chi tiết bệnh án</Title>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card__body\">\r\n                            {isLoading ? <Skeleton active /> : medicalRecord && (\r\n                                <Space direction=\"vertical\">\r\n                                    <div className=\"col-12 inline\">\r\n                                        <Title>Tên bệnh:</Title>{\" \"}\r\n                                        <strong>\r\n                                            {medicalRecord.medicalName}\r\n                                        </strong>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <Title>Bệnh viện:</Title>{\" \"}\r\n                                        <strong>\r\n                                            {medicalRecord.hospitalName}\r\n                                        </strong>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <Title>Ngày tạo:</Title>{\" \"}\r\n                                        <strong>\r\n                                            {moment(\r\n                                                medicalRecord.createAt\r\n                                            ).format(\"DD/MM/YYYY\")}\r\n                                        </strong>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <Title>Cập nhật ngày:</Title>{\" \"}\r\n                                        <strong>\r\n                                            {moment(\r\n                                                medicalRecord.updateAt\r\n                                            ).format(\"DD/MM/YYYY\")}\r\n                                        </strong>\r\n                                    </div>\r\n                                    <div className=\"col-12\">\r\n                                        <Title> Số lần khám:</Title>{\" \"}\r\n                                        <strong>\r\n                                            {\r\n                                                medicalRecord.medicalResults\r\n                                                    ?.length\r\n                                            }\r\n                                        </strong>\r\n                                    </div>\r\n                                </Space>\r\n                            )}\r\n                            <div style={{ height: \"50px\", textAlign: 'end' }}>\r\n\r\n                            </div>\r\n                            {isLoading ?\r\n                                <Skeleton /> :\r\n                                <Table\r\n                                    limit=\"10\"\r\n                                    headData={[\r\n                                        \"#\",\r\n                                        \"Ngày khám\",\r\n                                        \"Hình ảnh\",\r\n                                        \"Chuẩn đoán\",\r\n                                        \"Khám khác\",\r\n                                        \"Toa thuốc\",\r\n                                    ]}\r\n                                    renderHead={(item, index) =>\r\n                                        renderCusomerHead(item, index)\r\n                                    }\r\n                                    bodyData={medicalRecordResult}\r\n                                    renderBody={(item, index) =>\r\n                                        renderCustomerBody(\r\n                                            item,\r\n                                            index,\r\n                                            showModal,\r\n                                            handleSetListImage,\r\n                                            history,\r\n                                            openModal,\r\n                                            openShowCreateExam,\r\n                                            openShowCreateMedicines\r\n                                        )\r\n                                    }\r\n                                />}\r\n                        </div>\r\n                        {/* <div className=\"card__footer\">\r\n                            <PaginationAntd onChange={onChangePagination} total={medicalRecordResultPage.length} />\r\n                        </div> */}\r\n                    </div>\r\n                </div>\r\n                <Modal\r\n                    getContainer=\"#modalMount\"\r\n                    zIndex={100}\r\n                    centered\r\n                    title={\r\n                        dataModal?.type === 0\r\n                            ? \"Chi tiết liên quan\"\r\n                            : \"Chi tiết toa thuốc\"\r\n                    }\r\n                    open={isModalOpen}\r\n                    onOk={handleOk}\r\n                    onCancel={handleCancel}\r\n                    footer={[]}\r\n                >\r\n                    <Swiper\r\n                        pagination={{\r\n                            type: \"fraction\",\r\n                        }}\r\n                        modules={[Navigation, Pagination, Mousewheel, Keyboard]}\r\n                        navigation={true}\r\n                        className=\"mySwiper\"\r\n                        allowTouchMove={false}\r\n                    >\r\n                        {dataModal?.type === 0\r\n                            ? dataModal?.data?.map((item) => (\r\n                                <SwiperSlide>\r\n                                    <h2\r\n                                        style={{\r\n                                            height: \"60px\",\r\n                                            textAlign: \"center\",\r\n                                        }}\r\n                                    >\r\n                                        {item.name}\r\n                                    </h2>\r\n                                    <img\r\n                                        width=\"100%\"\r\n                                        height={300}\r\n                                        src={getLinkImage(item.image)}\r\n                                        alt=\"benh\"\r\n                                        onClick={() =>\r\n                                            handleSetListImage(\r\n                                                dataModal?.data?.map((x) => {\r\n                                                    return { src: getLinkImage(x.image) };\r\n                                                })\r\n                                            )\r\n                                        }\r\n                                    />\r\n                                    <h3\r\n                                        style={{\r\n                                            height: \"100px\",\r\n                                            marginTop: \"20px\",\r\n                                        }}\r\n                                    >\r\n                                        Kết quả: {item.result}\r\n                                    </h3>\r\n                                </SwiperSlide>\r\n                            ))\r\n                            : dataModal?.data?.map((item) => (\r\n                                <SwiperSlide>\r\n                                    <h2\r\n                                        style={{\r\n                                            height: \"60px\",\r\n                                            textAlign: \"center\",\r\n                                        }}\r\n                                    >\r\n                                        {item.name}\r\n                                    </h2>\r\n                                    <div\r\n                                        style={{\r\n                                            padding: \"0 50px 20px  70px\",\r\n                                        }}\r\n                                    >\r\n                                        <h3>Số lượng: {item.quantity}</h3>\r\n                                        <p>\r\n                                            Cách uống:{\" \"}\r\n                                            <strong>\r\n                                                {item.isAfter\r\n                                                    ? \"Sau khi ăn\"\r\n                                                    : \"Trước khi ăn\"}\r\n                                            </strong>\r\n                                        </p>\r\n                                        <p>\r\n                                            Sáng:{\" \"}\r\n                                            <strong>\r\n                                                {item.morning}\r\n                                            </strong>\r\n                                        </p>\r\n                                        <p>\r\n                                            Trưa:{\" \"}\r\n                                            <strong>\r\n                                                {item.afternoon}\r\n                                            </strong>\r\n                                        </p>\r\n                                        <p>\r\n                                            Tối:{\" \"}\r\n                                            <strong>\r\n                                                {item.night}\r\n                                            </strong>\r\n                                        </p>\r\n                                    </div>\r\n                                </SwiperSlide>\r\n                            ))}\r\n                    </Swiper>\r\n                </Modal>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MedicalDeletedRecord;\r\nconst TitleDel = styled.div`\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    display: block;\r\n    color: #a1a1a1;\r\n    margin-bottom: 20px;\r\n`;\r\n\r\n\r\nconst Title = styled.div`\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    display: inline;\r\n`;","import { DeleteOutlined, EyeOutlined, ReloadOutlined, SearchOutlined } from \"@ant-design/icons\";\r\nimport { DatePicker, Empty, message, Modal, Skeleton, Tooltip, Typography } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Table from \"../components/table/Table\";\r\nimport { axiosAuth } from \"../config/axios\";\r\nimport { FilterMedicals, GetMedicals } from \"../redux/slices/MedicalSlice\";\r\nimport UpdateMedical from \"./Medical/Update/UpdateMedical\";\r\nimport { CButton, CInput } from \"./Profile\";\r\n\r\nconst renderCustomerBodySkeleton = () => {\r\n    return <tr>\r\n        <th> <Skeleton.Input active size=\"small\" block /></th>\r\n        <th> <Skeleton.Input active size=\"small\" block /></th>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n        <td> <Skeleton.Input active size=\"small\" block /></td>\r\n    </tr>\r\n}\r\n\r\nconst renderCustomerHead = (item, index) => <th key={index}>{item}</th>;\r\n\r\n\r\nconst { RangePicker } = DatePicker;\r\nconst { Text } = Typography\r\n\r\nconst MedicalsDeleted = () => {\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [isModalConfirm, setIsModalConfirm] = useState(false);\r\n    const [isModalDelete, setIsModalDelete] = useState(false);\r\n    const [recordUpdate, setRecordUpdate] = useState(null);\r\n    const [filterDate, setFilterDate] = useState([\"\", \"\"]);\r\n    const [fullText, setfullText] = useState(\"\");\r\n    const history = useHistory();\r\n    const dispatch = useDispatch()\r\n    const medicalRecent = useSelector(state => state.medical.medicalDeleted)\r\n    const { isLoading } = useSelector(state => state.medical)\r\n    const { isDoctor } = useSelector(state => state.user)\r\n    const { user } = useSelector((state) => state.user);\r\n    const { isSuccess : isSSMedical } = useSelector(state => state.medical)\r\n    const { isSuccess : isSSUser} = useSelector(state => state.user);\r\n\r\n    useEffect(() => {\r\n        if(isSSUser && user?.username && (!user.phone || !user.fullName)) {\r\n            history && history.push(\"/profile\")\r\n            return;\r\n        }\r\n    }, [isSSUser, isSSMedical, history]);\r\n\r\n    const renderCustomerBody = (item, index, history, openModal) => {\r\n        return (\r\n            <tr key={index}>\r\n                <th>{item.stt}</th>\r\n                <td>{moment(item.createAt).format(\"DD/MM/YYYY\")}</td>\r\n                <td>{moment(item?.updateAt).format(\"DD/MM/YYYY\")}</td>\r\n                <td >{item?.auth}</td>\r\n                <td width={300}>{item?.fullName}</td>\r\n                <td width={300}>{item?.medicalName}</td>\r\n                <td width={100}>{item?.phone}</td>\r\n                <td width={150}>\r\n                    <Text style={{ width: 150 }} ellipsis={{ tooltip: item?.address }} className=\"txtcolor\">\r\n                        {item?.address}\r\n                    </Text>\r\n                </td>\r\n                <td width={100} style={{ textAlign: \"center\" }}>\r\n                    {item?.medicalResults?.length}\r\n                </td>\r\n                <td>\r\n                    <Tooltip title=\"Xem chi tiết\">\r\n                        <EyeOutlined\r\n                            onClick={() =>\r\n                                history.push(\r\n                                    `/medical-deleted/get-medical-record/${item._id}`\r\n                                )\r\n                            }\r\n                        />\r\n                    </Tooltip>\r\n                </td>\r\n                {\r\n                    isDoctor ? <>\r\n                        <td>\r\n                            <Tooltip title=\"Thu hồi\">\r\n                                <ReloadOutlined onClick={() => openModal(item, \"ROLLBACK\")} />\r\n                            </Tooltip>\r\n                        </td>\r\n                        <td>\r\n                            <Tooltip title=\"Xoá vĩnh viễn\">\r\n                                <DeleteOutlined onClick={() => openModal(item, \"DELETE_ALWAY\")} />\r\n                            </Tooltip>\r\n                        </td>\r\n                    </> : <></>\r\n                }\r\n\r\n            </tr>\r\n        );\r\n    };\r\n\r\n\r\n    const handleRollback = () => {\r\n        axiosAuth({\r\n            url: \"/medical/update-status-medical-record\",\r\n            method: \"post\",\r\n            data: {\r\n                medicalRecordID: recordUpdate._id,\r\n                status: \"1\",\r\n            },\r\n        }).then(() => {\r\n            // window.location.reload();\r\n            message.success(\"Thu hồi thành công\")\r\n            dispatch(GetMedicals(user))\r\n            hideModal()\r\n        })\r\n    }\r\n\r\n    const handleDeleteAlways = () => {\r\n        axiosAuth({\r\n            url: \"/medical/update-status-medical-record\",\r\n            method: \"post\",\r\n            data: {\r\n                medicalRecordID: recordUpdate._id,\r\n                updateAt: new Date(),\r\n                status: \"2\",\r\n            },\r\n        }).then(() => {\r\n            // window.location.reload();\r\n            message.success(\"Xoá vĩnh viễn thành công\")\r\n            dispatch(GetMedicals(user))\r\n            hideModalDelete()\r\n        })\r\n    }\r\n\r\n    const openModal = (item, action) => {\r\n        setRecordUpdate(item);\r\n\r\n        switch (action) {\r\n            case \"UPDATE\": {\r\n                setModalVisible(true);\r\n                break;\r\n            }\r\n            case \"ROLLBACK\": {\r\n                setIsModalConfirm(true);\r\n                break;\r\n            }\r\n            case \"DELETE_ALWAY\": {\r\n                setIsModalDelete(true);\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false);\r\n        setRecordUpdate(null);\r\n    };\r\n\r\n\r\n    const hideModal = () => {\r\n        setModalVisible(false);\r\n        setIsModalConfirm(null);\r\n    };\r\n\r\n    const hideModalDelete = () => {\r\n        setIsModalDelete(false);\r\n        setRecordUpdate(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(GetMedicals(user))\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        onChangePagination(1)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [medicalRecent]);\r\n\r\n    const handleChangeDate = (dates) => {\r\n        if (dates.length > 0) {\r\n            dates = dates.map((element) => {\r\n                return element.format(\"DD/MM/YYYY\");\r\n            });\r\n            setFilterDate(dates);\r\n        } else {\r\n            setFilterDate([\"\", \"\"]);\r\n        }\r\n    };\r\n\r\n\r\n    const handleFilter = () => {\r\n        const data = {\r\n            fromDate: filterDate[0],\r\n            toDate: filterDate[1],\r\n            fullText,\r\n        };\r\n\r\n        dispatch(FilterMedicals(data))\r\n    };\r\n\r\n\r\n    const onChangePagination = (pageNumber) => {\r\n    }\r\n    const medicalRecentSkeleton = [1, 2, 3, 4, 5, 1, 2, 3, 4, 5,]\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"page-header layout\">Bệnh án đã xoá</h2>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card__header\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-3\">\r\n                                    <WrapperInput>\r\n                                        <CInput\r\n                                            style={{ paddingRight: \"45px\" }}\r\n                                            height=\"40px\"\r\n                                            placeholder=\"Tìm tên bênh, bệnh viện, thuốc ...\"\r\n                                            onChange={(e) =>\r\n                                                setfullText(e.target.value)\r\n                                            }\r\n                                        />\r\n                                        <BoxSearch>\r\n                                            <SearchOutlined />\r\n                                        </BoxSearch>\r\n                                    </WrapperInput>\r\n                                </div>\r\n                                <div\r\n                                    className=\"col-9\"\r\n                                    style={{ textAlign: \"end\" }}\r\n                                >\r\n                                    <WrapperRight>\r\n\r\n                                        <DRangePicker\r\n                                            onChange={handleChangeDate}\r\n                                        />\r\n                                        <CButton\r\n                                            width=\"150px\"\r\n                                            onClick={handleFilter}\r\n                                        >\r\n                                            Lọc\r\n                                        </CButton>\r\n                                        {/* <CButton\r\n                                            width=\"150px\"\r\n                                            onClick={() =>\r\n                                                history.push(\"/medicals/create\")\r\n                                            }\r\n                                        >\r\n                                            Thêm mới\r\n                                        </CButton> */}\r\n                                    </WrapperRight>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card__body\">\r\n                            <Table\r\n                                headData={[\r\n                                    \"#\",\r\n                                    \"Ngày vào\",\r\n                                    \"Gần nhất\",\r\n                                    \"Bệnh nhân\",\r\n                                    \"Bệnh\",\r\n                                    \"SĐT\",\r\n                                    \"Đ/C\",\r\n                                    \"SL\",\r\n                                    \"\",\r\n                                    \"\",\r\n                                    \"\",\r\n                                ]}\r\n                                renderHead={(item, index) =>\r\n                                    renderCustomerHead(item, index)\r\n                                }\r\n                                limit=\"10\"\r\n                                bodyData={isLoading ? medicalRecentSkeleton : medicalRecent}\r\n                                renderBody={(item, index) =>\r\n                                    isLoading ? renderCustomerBodySkeleton() : renderCustomerBody(\r\n                                        item,\r\n                                        index,\r\n                                        history,\r\n                                        openModal\r\n                                    )\r\n                                }\r\n                            />\r\n                            {\r\n                                medicalRecent.length === 0 ? <Empty /> : <></>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <UpdateMedical visible={modalVisible} closeModal={closeModal} oldData={recordUpdate} />\r\n            <Modal\r\n                title=\"Xác nhận\"\r\n                open={isModalConfirm}\r\n                onOk={handleRollback}\r\n                onCancel={hideModal}\r\n                okText=\"Xác nhận\"\r\n                cancelText=\"Huỷ\"\r\n            >\r\n                Xác nhận <strong style={{ color: '#1986ec' }}>thu hồi</strong> bệnh án: <strong>{recordUpdate?.medicalName}</strong>\r\n            </Modal>\r\n            <Modal\r\n                title=\"Xác nhận\"\r\n                open={isModalDelete}\r\n                onOk={handleDeleteAlways}\r\n                onCancel={hideModalDelete}\r\n                okText=\"Xác nhận\"\r\n                cancelText=\"Huỷ\"\r\n            >\r\n                Xác nhận <strong style={{ color: '#f11810' }}>XOÁ VĨNH VIỄN</strong> bệnh án: <strong>{recordUpdate?.medicalName}</strong>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MedicalsDeleted;\r\n\r\nconst WrapperRight = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    gap: 15px;\r\n`;\r\n\r\nconst DRangePicker = styled(RangePicker)`\r\n    height: 40px;\r\n    width: 300px;\r\n    padding: 10px 10px 10px 20px;\r\n    font-size: 1rem;\r\n    box-sizing: border-box;\r\n    border-radius: var(--border-radius);\r\n    color: var(--txt-color);\r\n    background-color: var(--main-bg);\r\n    box-shadow: var(--box-shadow);\r\n    border: 2px solid transparent;\r\n\r\n    &:hover {\r\n        border: 2px solid var(--main-color);;\r\n    }\r\n\r\n    .ant-picker-input {\r\n        input {\r\n            border: none;\r\n            color: var(--txt-color);\r\n        }\r\n    }\r\n    .ant-picker-suffix {\r\n        color: var(--txt-color);\r\n    }\r\n\r\n    .ant-picker-status-error.ant-picker,\r\n    .ant-picker-status-error.ant-picker:not([disabled]):hover {\r\n        background-color: var(--main-bg) !important;\r\n    }\r\n`;\r\n\r\nconst WrapperInput = styled.div`\r\n    position: relative;\r\n`;\r\n\r\nconst BoxSearch = styled.div`\r\n    position: absolute;\r\n    right: 1px;\r\n    top: 1px;\r\n    width: 38px;\r\n    height: 38px;\r\n    border-radius: 14px;\r\n    background-color: var(--main-color);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 18px;\r\n    cursor: pointer;\r\n    color: white;\r\n    \r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Form, message, Modal, Radio } from \"antd\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { SignUpUser } from \"../redux/slices/UserSlice\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { CButton, CInput } from \"./Profile\";\r\nimport { Logout, PInput } from \"./Login\";\r\nimport { axiosNotAuth } from \"../config/axios\";\r\n\r\nexport default function Register({ isVisible, setIsVisible }) {\r\n    const dispatch = useDispatch();\r\n    // const {\r\n    //     isLoading,\r\n    //     isSuccess,\r\n    //     isError,\r\n    //     message: messages,\r\n    // } = useSelector((state) => state.user);\r\n    const history = useHistory();\r\n\r\n    const onFinish = async (values) => {\r\n        delete values.confirm;\r\n        console.log(\"Success:\", values);\r\n\r\n        try {\r\n            const dataUser = {\r\n                ...values,\r\n                password: '123456'\r\n            }\r\n            const { data } = await axiosNotAuth.post(`/user/register`, dataUser);\r\n            if (data?.data === 'success') {\r\n                message.success('Tạo tài khoản thành công')\r\n                setIsVisible(false)\r\n            } else {\r\n                if (data.msg == 'user is existed') {\r\n                    message.error('Tài khoản đã tồn tại', 1)\r\n\r\n                } else\r\n                    message.error('Tạo tài khoản thất bại', 1)\r\n            }\r\n            return data;\r\n        } catch (error) {\r\n            console.log(error);\r\n            if (error?.response?.data.msg == 'user is existed') {\r\n                message.error('Tài khoản đã tồn tại', 1)\r\n            } else\r\n                message.error('Tạo tài khoản thất bại', 1)\r\n        }\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log(\"Failed:\", errorInfo);\r\n    };\r\n    // useEffect(() => {\r\n    //     if (isSuccess) {\r\n    //         history.push(\"/login\");\r\n    //         dispatch(Logout())\r\n    //         message.success(messages);\r\n    //     }\r\n    //     if (isError) {\r\n    //         message.error(messages);\r\n    //     }\r\n    //     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    // }, [isLoading, isSuccess, isError, message]);\r\n\r\n    return (\r\n        // <WrapperLogin>\r\n        <Modal\r\n            open={isVisible}\r\n            onCancel={() => setIsVisible(false)}\r\n            centered\r\n            footer={null}\r\n            destroyOnClose\r\n        >\r\n            {/* <FormLogin> */}\r\n            <Header>\r\n                <img\r\n                    width=\"80\"\r\n                    height=\"80\"\r\n                    src=\"https://cdn-icons-png.flaticon.com/512/4200/4200528.png\"\r\n                    alt=\"avt\"\r\n                />\r\n                <h2>Tạo tài khoản</h2>\r\n            </Header>\r\n            <Content>\r\n                <Form\r\n                    name=\"basic\"\r\n                    initialValues={{ remember: true }}\r\n                    onFinish={onFinish}\r\n                    onFinishFailed={onFinishFailed}\r\n                    autoComplete=\"off\"\r\n                    // layout=\"vertical\"\r\n                    style={{ width: \"80%\" }}\r\n                    size=\"large\"\r\n                    labelCol={{ span: 8 }}\r\n                    wrapperCol={{ span: 16 }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"Username\"\r\n                        name=\"username\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: \"Vui lòng nhập username!\",\r\n                            },\r\n                            {\r\n                                min: 5,\r\n                                message: 'Ít nhất 5 kí tự'\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <CInput />\r\n                    </Form.Item>\r\n\r\n                    {/* <Form.Item\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: \"Please input your password!\",\r\n                            },\r\n                            {\r\n                                min: 6,\r\n                                message: 'Mật khẩu ít nhất 6 kí tự'\r\n                            }\r\n                        ]}\r\n                        hasFeedback\r\n                    >\r\n                        <PInput />\r\n                    </Form.Item> */}\r\n                    {/*\r\n            <Form.Item name=\"remember\" valuePropName=\"checked\" wrapperCol={{ offset: 8, span: 16 }}>\r\n              <Checkbox>Remember me</Checkbox>\r\n            </Form.Item> */}\r\n\r\n                    {/* <Form.Item\r\n                        name=\"confirm\"\r\n                        label=\"Confirm\"\r\n                        dependencies={[\"password\"]}\r\n                        hasFeedback\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: \"Vui lòng nhập mật khẩu\",\r\n                            },\r\n                            {\r\n                                min: 6,\r\n                                message: 'Mật khẩu ít nhất 6 kí tự'\r\n                            },\r\n                            ({ getFieldValue }) => ({\r\n                                validator(_, value) {\r\n                                    if (\r\n                                        !value ||\r\n                                        getFieldValue(\"password\") === value\r\n                                    ) {\r\n                                        return Promise.resolve();\r\n                                    }\r\n                                    return Promise.reject(\r\n                                        new Error(\r\n                                            \"Chưa khớp!\"\r\n                                        )\r\n                                    );\r\n                                },\r\n                            }),\r\n                        ]}\r\n                    >\r\n                        <PInput />\r\n                    </Form.Item> */}\r\n                    <Form.Item\r\n                        label=\"Chức vụ\"\r\n                        name=\"role\"\r\n                        initialValue=\"bs\"\r\n                    >\r\n                        <Radio.Group>\r\n                            <Radio value=\"bs\">Bác sĩ</Radio>\r\n                            <Radio value=\"yt\">Y tá</Radio>\r\n                        </Radio.Group>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        wrapperCol={{ span: 16, offset: 8 }}>\r\n                        <CButton\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ width: \"100%\" }}\r\n\r\n                        >\r\n                            Tạo ngay\r\n                        </CButton>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Content>\r\n            {/* <FooterLogin>\r\n                <span>Hoặc đăng nhập</span>\r\n                <Link to=\"/login\" className=\"main-color\">\r\n                    {\" \"}\r\n                    tại đây\r\n                </Link>\r\n            </FooterLogin> */}\r\n            {/* </FormLogin> */}\r\n        </Modal >\r\n        // </WrapperLogin >\r\n    );\r\n}\r\n\r\nconst WrapperLogin = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: #f1f1f1;\r\n`;\r\n\r\nconst FormLogin = styled.div`\r\n    width: 500px;\r\n    min-height: 600px;\r\n    background-color: #ffffff;\r\n    border: 1px solid #aaaaaa;\r\n    box-shadow: 0px 3px 13px 0 #adadadb9;\r\n    border-radius: 6px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n    height: 200px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    h2 {\r\n        color: #1890ff;\r\n        font-size: 30px;\r\n    }\r\n`;\r\nconst Content = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n\r\n    .ant-form-large .ant-form-item-label > label {\r\n        font-size: 18px;\r\n        color: #1890ff;\r\n    }\r\n`;\r\nconst FooterLogin = styled.div`\r\n    height: 50px;\r\n    line-height: 50px;\r\n    font-size: 16px;\r\n    text-align: center;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport Table from \"../components/table/Table\";\r\nimport moment from \"moment\";\r\nimport { Empty, Form, Image, message, Modal, Radio, Row, Tooltip, Typography } from \"antd\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { CButton, CInput } from \"./Profile\";\r\nimport Register from \"./Register\";\r\nimport { axiosAuth } from \"../config/axios\";\r\nimport { getLinkAvatar, getLinkImage } from \"../constants\";\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\n\r\nexport const getRoleString = (role) => {\r\n    switch (role) {\r\n        case 'admin': return 'Admin';\r\n        case 'bs': return 'Bác sĩ';\r\n        default: return 'Y tá'\r\n    }\r\n}\r\nconst appointmentTableHead = [\"#\", \"Hình ảnh\", \"Username\", \"Tên\", \"Ngày sinh\", \"SĐT\", \"Địa chỉ\", \"Chức vụ\", \"\", \"\"];\r\n\r\nconst renderHead = (item, index) => <th key={index}>{item}</th>;\r\n\r\nconst { Text } = Typography\r\nconst renderBody = (item, index, history, openModal) => (\r\n    <tr key={index}>\r\n        <th width={50}>{item.stt}</th>\r\n        <td width={100}><Image src={item?.avatar ? getLinkAvatar(item?.avatar) : ''} style={{ width: 100 }} /></td>\r\n        <td width={150} style={{ textTransform: 'none' }}>{item?.username}</td>\r\n        <td>{item?.fullName}</td>\r\n        <td width={150}>{item?.birthday ? moment(item?.birthday).format(\"DD/MM/YYYY\") : ''}</td>\r\n        <td width={150}>{item?.phone}\r\n            {/* {\r\n            item.phone ?\r\n                <Row align=\"middle\" style={{ gap: '10px' }}>\r\n                    <PhoneOutlined style={{ fontSize: '22px' }} onClick={() => window.open(`tel:${item.phone}`)} />\r\n                    <ZaloIcon onClick={() => window.open(`https://zalo.me/${item.phone}`)} />\r\n                </Row> : <></>\r\n        } */}\r\n        </td>\r\n        <td>\r\n            <Text style={{ width: 150 }} ellipsis={{ tooltip: item?.address }} className=\"txtcolor\">\r\n                {item?.address}\r\n            </Text>\r\n        </td>\r\n        <td width={100}>\r\n            {getRoleString(item?.role)}\r\n        </td>\r\n        {/* <td width={20}>\r\n            <Tooltip title=\"Cập nhật\">\r\n                <EditOutlined onClick={() => openModal(item, \"UPDATE\")} />\r\n            </Tooltip>\r\n        </td> */}\r\n        <td width={20}>\r\n            <Tooltip title=\"Xoá\">\r\n                <DeleteOutlined\r\n                    onClick={() => openModal(item, \"DELETE\")}\r\n                />\r\n            </Tooltip>\r\n        </td>\r\n    </tr>\r\n);\r\n\r\nconst Management = () => {\r\n    const history = useHistory()\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const dispatch = useDispatch()\r\n    const [itemUser, setItemUser] = useState(null);\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const [users, setUsers] = useState([]);\r\n    const [deleteModal, setDeleteModal] = useState(false);\r\n\r\n    const openModal = (item, action) => {\r\n        switch (action) {\r\n            case \"UPDATE\":\r\n                setModalVisible(true);\r\n                break;\r\n            case \"DELETE\":\r\n                setDeleteModal(true);\r\n                break;\r\n\r\n            default:\r\n                setDeleteModal(true);\r\n        }\r\n        setItemUser(item);\r\n    };\r\n\r\n    const init = async () => {\r\n        try {\r\n            const response = await axiosAuth({\r\n                url: \"/user/get-users\",\r\n                method: \"get\",\r\n            })\r\n\r\n            const list = response.data.data.filter(({role})=> role !== 'admin');\r\n            setUsers(list)\r\n        } catch (error) {\r\n            message.error(\"Lỗi\")\r\n        }\r\n    }\r\n    React.useEffect(() => {\r\n        init()\r\n    }, [modalVisible, isVisible])\r\n\r\n    const closeModal = () => {\r\n        setModalVisible(false);\r\n        setDeleteModal(false);\r\n        setItemUser(null);\r\n    };\r\n\r\n    const handleOk = async () => {\r\n        await axiosAuth({\r\n            url: \"/user/delete\",\r\n            method: \"post\",\r\n            data: {\r\n                _id: itemUser._id\r\n            }\r\n        })\r\n        closeModal()\r\n        init()\r\n    };\r\n\r\n    const handleUpdate = async (values) => {\r\n        axiosAuth({\r\n            url: \"/user/update\",\r\n            method: \"post\",\r\n            data: {\r\n                _id: itemUser._id,\r\n                ...itemUser,\r\n                birthday: itemUser?.birthday ? moment(itemUser?.birthday).format(\"DD/MM/YYY\") : '',\r\n                ...values,\r\n                date: moment(values.date).format(\"DD/MM/YYYY\")\r\n            },\r\n        })\r\n            .then(() => {\r\n                // window.location.href = \"/\";\r\n                message.success(\"Cập nhật thành công\");\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n        closeModal()\r\n        init()\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"page-header layout\">Quản lý tài khoản</h2>\r\n            <Register isVisible={isVisible} setIsVisible={setIsVisible} />\r\n            <Modal title=\"Xác nhận\" open={deleteModal} onCancel={closeModal} onOk={handleOk}>\r\n                Xác nhận <strong style={{ color: 'red' }}>xoá</strong> tài khoản: <strong>{itemUser?.fullName}</strong>\r\n            </Modal>\r\n            <Modal title=\"Cập nhật\" open={modalVisible} onCancel={closeModal} footer={null}>\r\n                <Form\r\n                    name=\"basic\"\r\n                    labelCol={{ span: 8 }}\r\n                    wrapperCol={{ span: 16 }}\r\n                    // onFinishFailed={onFinishFailed}\r\n                    autoComplete=\"off\"\r\n                    onFinish={handleUpdate}\r\n                    // onSubmitCapture={handleUpdate}\r\n                    initialValues={\r\n                        {\r\n                            fullName: itemUser?.fullName,\r\n                            role: itemUser?.role\r\n                        }\r\n                    }\r\n                    destroyOnClose\r\n                >\r\n                    <Form.Item\r\n                        label=\"Tên\"\r\n                        name=\"fullName\"\r\n                        initialValue={itemUser?.fullName}\r\n                    >\r\n                        {itemUser?.fullName}\r\n                        {/* <CInput disabled value={itemUser?.fullName} /> */}\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"Chức vụ\"\r\n                        name=\"role\"\r\n                        initialValue=\"bs\"\r\n                    >\r\n                        <Radio.Group>\r\n                            <Radio value=\"bs\">Bác sĩ</Radio>\r\n                            <Radio value=\"yt\">Y tá</Radio>\r\n                        </Radio.Group>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        wrapperCol={{ offset: 8, span: 16 }}\r\n                    >\r\n                        <CButton\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                        >\r\n                            Cập nhật\r\n                        </CButton>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"card\">\r\n                        <div className=\"col-12\" style={{ textAlign: \"end\" }}>\r\n                            <CButton\r\n                                width=\"150px\"\r\n                                onClick={() =>\r\n                                    setIsVisible(true)\r\n                                }\r\n                            >\r\n                                Thêm mới\r\n                            </CButton>\r\n                        </div>\r\n                        <div className=\"card__body\" style={{ minHeight: 300 }}>\r\n                            {\r\n                                users.length ?\r\n                                    <Table\r\n                                        limit=\"10\"\r\n                                        headData={appointmentTableHead}\r\n                                        renderHead={(item, index) =>\r\n                                            renderHead(item, index)\r\n                                        }\r\n                                        bodyData={users}\r\n                                        renderBody={(item, index) =>\r\n                                            renderBody(item, index, history, openModal)\r\n                                        }\r\n                                    /> :\r\n                                    <Empty />\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default Management;\r\n","import { useEffect, useState } from \"react\";\r\nimport { axiosAuth } from \"../config/axios\";\r\nimport moment from \"moment\";\r\nimport { Button, Col, DatePicker, Form, Input, message, Radio } from \"antd\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { URL_AVATAR } from \"../constants\";\r\nimport { PInput } from \"./Login\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nconst UpdatePassword = () => {\r\n    const [form] = Form.useForm();\r\n    const user = useSelector((state) => state.user.user);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const history = useHistory()\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log(\"Failed:\", errorInfo);\r\n    };\r\n    const [avatar, setAvatar] = useState(null);\r\n\r\n\r\n    const handleUpdate = (values) => {\r\n        setIsLoading(true)\r\n        axiosAuth({\r\n            url: \"/user/update-pass\",\r\n            method: \"post\",\r\n            data: {\r\n                _id: user?._id,\r\n                ...values\r\n            },\r\n        })\r\n            .then(({ data }) => {\r\n                console.log(data.data);\r\n                // window.location.href = \"/logout\";\r\n                if (data.data.code == 400) {\r\n                    message.error(data.data.msg)\r\n                } else {\r\n                    message.success(\"Cập nhật thành công\");\r\n                    history.push(\"/profile\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                message.error(\"Cập nhật thất bại\");\r\n            });\r\n        setIsLoading(false)\r\n    };\r\n    const [imageUrl, setImageUrl] = useState();\r\n\r\n    const handleChange = (e) => {\r\n        const fileList = e.target.files;\r\n        if (!fileList) return;\r\n        setAvatar((prev) => {\r\n            return fileList[0];\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"page-header layout\">Thông tin cá nhân</h2>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card__body\">\r\n                            <FCenter>\r\n                                <Form\r\n                                    form={form}\r\n                                    name=\"basic\"\r\n                                    labelCol={{ span: 9 }}\r\n                                    wrapperCol={{ span: 15 }}\r\n                                    onFinishFailed={onFinishFailed}\r\n                                    autoComplete=\"off\"\r\n                                    onFinish={handleUpdate}\r\n                                // onSubmitCapture={handleUpdate}\r\n                                >\r\n                                    <Form.Item\r\n                                        name=\"oldPassword\"\r\n                                        label=\"Mật khẩu cũ\"\r\n                                        rules={[\r\n                                            {\r\n                                                required: true,\r\n                                                message: \"Vui lòng nhập mật khẩu!\",\r\n                                            }\r\n                                        ]}\r\n                                    >\r\n                                        <PInput />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        name=\"password\"\r\n                                        label=\"Mật khẩu mới\"\r\n                                        rules={[\r\n                                            {\r\n                                                required: true,\r\n                                                message: \"Vui lòng nhập mật khẩu!\",\r\n                                            },\r\n                                            {\r\n                                                min: 6,\r\n                                                message: 'Mật khẩu ít nhất 6 kí tự'\r\n                                            }\r\n                                        ]}\r\n                                        hasFeedback\r\n                                    >\r\n                                        <PInput />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        name=\"confirm\"\r\n                                        label=\"Xác nhận mật khẩu\"\r\n                                        dependencies={[\"password\"]}\r\n                                        hasFeedback\r\n                                        rules={[\r\n                                            {\r\n                                                required: true,\r\n                                                message: \"Vui lòng nhập mật khẩu\",\r\n                                            },\r\n                                            {\r\n                                                min: 6,\r\n                                                message: 'Mật khẩu ít nhất 6 kí tự'\r\n                                            },\r\n                                            ({ getFieldValue }) => ({\r\n                                                validator(_, value) {\r\n                                                    if (\r\n                                                        !value ||\r\n                                                        getFieldValue(\"password\") === value\r\n                                                    ) {\r\n                                                        return Promise.resolve();\r\n                                                    }\r\n                                                    return Promise.reject(\r\n                                                        new Error(\r\n                                                            \"Chưa khớp!\"\r\n                                                        )\r\n                                                    );\r\n                                                },\r\n                                            }),\r\n                                        ]}\r\n                                    >\r\n                                        <PInput />\r\n                                    </Form.Item>\r\n                                    <Form.Item\r\n                                        wrapperCol={{ offset: 8, span: 16 }}\r\n                                    >\r\n                                        <CButton\r\n                                            type=\"primary\"\r\n                                            htmlType=\"submit\"\r\n                                            loading={isLoading}\r\n                                        >\r\n                                            Cập nhật\r\n                                        </CButton>\r\n                                    </Form.Item>\r\n                                </Form>\r\n                            </FCenter>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UpdatePassword;\r\n\r\nexport const CInput = styled(Input)`\r\n    height: ${(p) => p.height || \"100%\"};\r\n    width: ${(p) => p.width || \"100%\"};\r\n    padding: 10px 10px 10px 20px;\r\n    font-size: 1rem;\r\n    border-radius: var(--border-radius);\r\n    color: var(--txt-color);\r\n    background-color: var(--main-bg);\r\n    box-shadow: var(--box-shadow);\r\n    border: 2px solid transparent;\r\n    \r\n    &:hover {\r\n        border: 2px solid var(--main-color);;\r\n    }\r\n`;\r\n\r\nexport const DInput = styled(DatePicker)`\r\n    height: 100%;\r\n    width: ${(p) => p.width || \"100%\"};\r\n    padding: 10px 10px 10px 20px;\r\n    font-size: 1rem;\r\n    box-sizing: border-box;\r\n    border-radius: var(--border-radius);\r\n    color: var(--txt-color);\r\n    background-color: var(--main-bg);\r\n    box-shadow: var(--box-shadow);\r\n    border: 2px solid transparent;\r\n\r\n    &:hover {\r\n        border: 2px solid var(--main-color);;\r\n    }\r\n\r\n    .ant-picker-input {\r\n        input {\r\n            border: none;\r\n            color: var(--txt-color);\r\n        }\r\n    }\r\n    .ant-picker-suffix {\r\n        color: var(--txt-color);\r\n    }\r\n\r\n    .ant-picker-status-error.ant-picker,\r\n    .ant-picker-status-error.ant-picker:not([disabled]):hover {\r\n        background-color: var(--main-bg) !important;\r\n    }import { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\n`;\r\n\r\nexport const FCenter = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nexport const CButton = styled(Button)`\r\n    width: ${(p) => p.width || \"100%\"};\r\n    border-radius: var(--border-radius);\r\n    color: var(--txt-white);\r\n    background-color: var(--main-color);\r\n    box-shadow: var(--box-shadow);\r\n    text-align: center;\r\n    height: 40px;\r\n\r\n    :hover {\r\n     background-color: var(--second-color);\r\n     color: var(--txt-white);\r\n    }\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport Appointment from \"../pages/Appointment\";\r\nimport Dashboard from \"../pages/Dashboard\";\r\nimport MedicalRecord from \"../pages/MedicalRecord\";\r\nimport Profile from \"../pages/Profile\";\r\nimport { Logout } from './../pages/Login';\r\nimport Medicals from './../pages/Medicals';\r\nimport CreateMedial from './../pages/Medical/Create/CreateMedial';\r\nimport MedicalDeletedRecord from './../pages/MedicalDeletedRecord';\r\nimport MedicalsDeleted from './../pages/MedicalsDeleted';\r\nimport Register from \"../pages/Register\";\r\nimport Management from \"../pages/Managenent\";\r\nimport UpdatePassword from './../pages/UpdatePass';\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const { isSuccess, user } = useSelector((state) => state.user);\r\n\r\n    if (isSuccess && !user?._id) {\r\n        console.log(user);\r\n        // dispatch(logout())\r\n    }\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                isSuccess ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/login\",\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n};\r\nconst Routes = () => {\r\n    return (\r\n        <Switch>\r\n            <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n            <PrivateRoute path=\"/appointment\" component={Appointment} />\r\n            <PrivateRoute exact path=\"/management\" component={Management} />\r\n            <PrivateRoute path=\"/profile\" component={Profile} />\r\n            <PrivateRoute path=\"/update-pass\" component={UpdatePassword} />\r\n            <PrivateRoute exact path=\"/medicals\" component={Medicals} />\r\n            <PrivateRoute exact path=\"/medicals-deleted\" component={MedicalsDeleted} />\r\n            <PrivateRoute path=\"/medicals/create\" component={CreateMedial} />\r\n            <PrivateRoute path=\"/medical/get-medical-record/:id\" component={MedicalRecord} />\r\n            <PrivateRoute path=\"/medical-deleted/get-medical-record/:id\" component={MedicalDeletedRecord} />\r\n            <PrivateRoute path=\"/logout\" component={Logout} />\r\n        </Switch>\r\n    );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport \"./layout.css\";\r\n\r\nimport Sidebar from \"../sidebar/Sidebar\";\r\nimport TopNav from \"../topnav/TopNav\";\r\nimport Routes from \"../Routes\";\r\n\r\nimport {BrowserRouter, Route, useHistory, useLocation} from \"react-router-dom\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport Login from \"./../../pages/Login\";\r\nimport Register from \"./../../pages/Register\";\r\nimport { setColorTheme, setModeTheme } from \"../../redux/slices/ThemeSlice\";\r\nimport { GetUserInfo } from \"../../redux/slices/UserSlice\";\r\n\r\nconst Layout = () => {\r\n    const { isSuccess, user } = useSelector((state) => state.user);\r\n\r\n    const themeReducer = useSelector((state) => state.theme);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const themeClass = localStorage.getItem(\r\n            \"themeMode\",\r\n            \"theme-mode-light\"\r\n        );\r\n\r\n        const colorClass = localStorage.getItem(\r\n            \"colorMode\",\r\n            \"theme-mode-light\"\r\n        );\r\n\r\n        dispatch(setModeTheme(themeClass));\r\n        dispatch(setColorTheme(colorClass));\r\n        if (localStorage.getItem(\"access_token\")) dispatch(GetUserInfo());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Route path=\"/login\" component={Login} />\r\n            {isSuccess ? (\r\n                <Route\r\n                    render={(props) => (\r\n                        <div\r\n                            className={`layout ${themeReducer.mode} ${themeReducer.color}`}\r\n                        >\r\n                                <Sidebar {...props} />\r\n                                <div className=\"layout__content\">\r\n                                    <TopNav />\r\n                                    <div className=\"layout__content-main\">\r\n                                        <Routes />\r\n                                    </div>\r\n                                </div>\r\n                        </div>\r\n                    )}\r\n                />\r\n            ) : (\r\n                <Routes />\r\n            )}\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport UserSlice from \"./slices/UserSlice\";\r\nimport ThemeSlice from \"./slices/ThemeSlice\";\r\nimport MedicalSlice from \"./slices/MedicalSlice\";\r\nimport AppointmentSlice from \"./slices/AppointmentSlice\";\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        theme: ThemeSlice,\r\n        user: UserSlice,\r\n        medical: MedicalSlice,\r\n        appointment: AppointmentSlice,\r\n    },\r\n});\r\n\r\nexport default store;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport \"antd/dist/antd.css\";\r\nimport 'swiper/swiper.min.css'\r\nimport 'swiper/modules/pagination/pagination.min.css'\r\nimport 'swiper/modules/navigation/navigation.min.css'\r\nimport \"./assets/boxicons-2.0.7/css/boxicons.min.css\";\r\nimport \"./assets/css/grid.css\";\r\nimport \"./assets/css/theme.css\";\r\nimport \"./assets/css/index.css\";\r\n\r\nimport Layout from \"./components/layout/Layout\";\r\nimport store from \"./redux/store\";\r\n\r\ndocument.title = \"Quản lý bệnh án\";\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <React.StrictMode>\r\n            <Layout />\r\n        </React.StrictMode>\r\n    </Provider>,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}